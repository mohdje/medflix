(this["webpackJsonpreact-streaming-client"]=this["webpackJsonpreact-streaming-client"]||[]).push([[0],{28:function(e,t,n){},43:function(e,t,n){},47:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n(0),s=n.n(c),o=n(10),r=n.n(o),l=(n(70),n(3)),a=(n(71),n(72),n.p+"static/media/medflix.d071a10c.png"),u=n(51),d=n.n(u),j=n(49),v=n.n(j),b=n(37),f=n.n(b),O=n(50),m=n.n(O);n(73);var h=function(e,t){return{visibility:e?"visible":"hidden",opacity:e?"1":"0",transition:"all "+(t?t+"s":"0.5s")}},x={apiBaseUrl:"https://localhost:5001/movies/",apiSubtitlesUrl:"https://localhost:5001/movies/subtitles/",apiStreamUrl:"https://localhost:5001/movies/stream?url=",getMoviesGenres:function(e,t){var n=this.apiBaseUrl+"genres";this.sendRequest(n,[],e,t)},getLastMoviesByGenre:function(e,t,n){var i=this.apiBaseUrl+"genre/"+e;this.sendRequest(i,[],t,n)},getSuggestedMovies:function(e,t){var n=this.apiBaseUrl+"suggested";this.sendRequest(n,[],e,t)},getMoviesByGenre:function(e,t,n,i){var c=this.apiBaseUrl+"genre/"+e+"/"+t;this.sendRequest(c,[],n,i)},getMovieDetails:function(e,t,n){var i=this.apiBaseUrl+"details/"+e;this.sendRequest(i,[],t,n)},searchMovies:function(e,t,n){var i=this.apiBaseUrl+"search/"+e;this.sendRequest(i,[],t,n)},getAvailableSubtitles:function(e,t,n){var i=this.apiSubtitlesUrl+"available/"+e;this.sendRequest(i,[],t,n)},getAvailableMovieServices:function(e,t){var n=this.apiBaseUrl+"services";this.sendRequest(n,[],e,t)},changeMovieService:function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&(200===this.status?t&&t():n&&n())},i.open("POST",this.apiBaseUrl+"services",!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send("serviceName="+e)},sendRequest:function(e,t,n,i){var c=new XMLHttpRequest;if(c.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var e=JSON.parse(this.response);n&&n(e)}else i&&i()},t&&t.length>0){e+="?";for(var s=0;s<t.length;s++){var o=t[s];e+=o.name+"="+o.value,s!==t.length-1&&(e+="&")}}c.open("GET",e,!0),c.send()}},g=n(118);var p=function(e){var t=e.position,n=e.color,s=e.size,o=e.visible,r=Object(c.useState)({}),a=Object(l.a)(r,2),u=a[0],d=a[1];return Object(c.useEffect)((function(){"center"===t&&d({position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})}),[t]),Object(i.jsx)("div",{style:h(o),children:Object(i.jsx)("div",{style:u,children:Object(i.jsx)(g.a,{style:{color:n,width:s,height:"auto"}})})})};var N=function(e){var t=e.onClick,n=e.visible,s=Object(c.useState)([]),o=Object(l.a)(s,2),r=o[0],a=o[1],u=Object(c.useState)(!0),d=Object(l.a)(u,2),j=d[0],v=d[1];Object(c.useEffect)((function(){n&&x.getAvailableMovieServices((function(e){v(!1),e&&e.length>0&&a(e)}),(function(){return console.log("fail")}))}),[n]);var b=function(e){v(!0),x.changeMovieService(e,(function(){window.location.reload()}),(function(){return console.log("fail")})),t()};return Object(i.jsxs)("div",{style:h(n),className:"movie-services-menu-container",children:[Object(i.jsx)("div",{style:{display:j?"":"none"},children:Object(i.jsx)(p,{color:"white",size:"40px",visible:!0})}),Object(i.jsx)("div",{style:{display:j?"none":""},children:r.map((function(e){return Object(i.jsx)("div",{className:"movie-service"+(e.selected?" selected":""),onClick:function(){return b(e.name)},children:e.name},e.name)}))})]})};function y(e,t){Object(c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}var C=function(e){var t=e.onSearchClick,n=e.onHomeClick,s=e.onGenreMenuClick,o=Object(c.useState)(!1),r=Object(l.a)(o,2),u=r[0],j=r[1],b=Object(c.useRef)(null),O={color:"white",width:"30px",height:"30px"};return y(b,(function(){return j(!1)})),Object(i.jsxs)("div",{className:"nav-bar-container",children:[Object(i.jsx)("img",{className:"nav-bar-logo",alt:"",src:a}),Object(i.jsxs)("div",{className:"nav-bar-right",children:[Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return n()},children:Object(i.jsx)(v.a,{style:O})}),Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return s()},children:Object(i.jsx)(m.a,{style:O})}),Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return t()},children:Object(i.jsx)(d.a,{style:O})}),Object(i.jsxs)("div",{ref:b,style:{position:"relative"},children:[Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return j(!u)},children:Object(i.jsx)(f.a,{style:O})}),Object(i.jsx)("div",{style:{position:"absolute",top:"100%",right:"0"},children:Object(i.jsx)(N,{visible:u,onClick:function(){return j(!1)}})})]})]})]})};n(78);var S=function(e){var t=e.visible;return Object(i.jsx)("div",{className:"splash-screen-container"+(t?"":" hidden"),children:Object(i.jsx)("img",{alt:"",src:a})})},k=n(122),E=n(38),M=n.n(E);n(79),n(80);var w=function(e){var t=e.visible,n=e.content,c=e.onCloseClick;return Object(i.jsx)("div",{style:h(t),className:"modal-window-container",children:Object(i.jsxs)("div",{className:"modal-window-content",children:[Object(i.jsx)("div",{className:"modal-window-close-btn",onClick:function(){return c()},children:Object(i.jsx)(M.a,{className:"close-cross"})}),n]})})};n(43),n(28),n(47);var L=function(e){var t,n,s=e.movie,o=e.onMovieClick,r=Object(c.useState)(!1),a=Object(l.a)(r,2),u=a[0],d=a[1],j=Object(c.useState)(!1),v=Object(l.a)(j,2),b=(v[0],v[1]);return Object(c.useEffect)((function(){d(null===s||void 0===s?void 0:s.coverImageUrl)}),[s]),Object(i.jsx)("div",{style:h(u),children:Object(i.jsxs)("div",{className:"movie-lite-presentation",onClick:function(){return b(!0),void setTimeout((function(){o(null===s||void 0===s?void 0:s.id)}),150)},children:[Object(i.jsx)("div",{className:"movie-lite-presentation-img",children:Object(i.jsx)("img",{alt:"",src:s.coverImageUrl})}),Object(i.jsxs)("div",{className:"infos",children:[Object(i.jsx)("div",{className:"title",children:(t=s.title,n=35,t&&t.length>n?t.substring(0,n)+"...":t)}),Object(i.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(i.jsx)("div",{className:"year",children:s.year}),Object(i.jsx)("div",{className:"rating",children:s.rating})]})]})]})})},I=n(53),R=n.n(I),T=n(52),q=n.n(T);var F=function(e){var t=e.movies,n=e.onMovieClick,s=Object(c.useRef)(null),o=Object(c.useState)(!0),r=Object(l.a)(o,2),a=r[0],u=r[1],d=Object(c.useState)(!1),j=Object(l.a)(d,2),v=j[0],b=j[1];Object(c.useEffect)((function(){s.current.onscroll=function(){m()}}),[]),Object(c.useEffect)((function(){t&&0!==t.length?m():(b(!0),u(!0))}),[t]),Object(c.useEffect)((function(){m()}),[a,v]);var f=function(e,t){var n=e.getBoundingClientRect();return Math.floor(n.right)<=Math.floor(t.right)&&Math.floor(n.left)>=Math.floor(t.left)},O=function(){for(var e=[],t=s.current.getBoundingClientRect(),n=0;n<s.current.children.length;n++)f(s.current.children[n],t)&&e.push(n);return{maxIndex:Math.max.apply(Math,e),minIndex:Math.min.apply(Math,e),count:e.length}},m=function(){if(s.current.children&&s.current.children.length>0){var e=s.current.getBoundingClientRect();u(f(s.current.children[0],e)),b(f(s.current.children[s.current.children.length-1],e))}};return Object(i.jsxs)("div",{className:"movies-list-container",children:[Object(i.jsx)("div",{style:h(!a),className:"floating-navigation-btn left",onClick:function(){return function(){if(s.current.children&&s.current.children.length>0){var e=O(),t=e.minIndex-e.count,n=t<0?0:t;s.current.children[n].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}()},children:Object(i.jsx)(q.a,{style:{fontSize:40,color:"white"}})}),Object(i.jsx)("div",{style:h(!v),className:"floating-navigation-btn right",onClick:function(){return function(){if(s.current.children&&s.current.children.length>0){var e=O(),t=e.maxIndex+e.count,n=t>s.current.children.length-1?s.current.children.length-1:t;s.current.children[n].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}()},children:Object(i.jsx)(R.a,{style:{fontSize:40,color:"white"}})}),Object(i.jsx)("div",{ref:s,className:"movies-list"+(a&&v?" center":""),children:t.map((function(e,t){return Object(i.jsx)(L,{movie:e,onMovieClick:function(e){return n(e)}},t)}))})]})};var P=function(e){var t=e.visible,n=e.onCloseClick,s=e.onMovieClick,o=Object(c.useState)(""),r=Object(l.a)(o,2),a=r[0],u=r[1],d=Object(c.useState)([]),j=Object(l.a)(d,2),v=j[0],b=j[1],f=Object(c.useState)(!1),O=Object(l.a)(f,2),m=O[0],g=O[1],N=Object(c.useState)(""),y=Object(l.a)(N,2),C=y[0],S=y[1],E=Object(c.useRef)(a);return Object(c.useEffect)((function(){t||u("")}),[t]),Object(c.useEffect)((function(){a&&a.length>2?(E.current=a,setTimeout((function(){a===E.current&&(g(!0),S(""),b([]),x.searchMovies(a,(function(e){g(!1),e&&e.length>0?(S(e.length+" movies found"),b(e)):S("No result found")}),(function(){g(!1),S("No result found")})))}),1e3)):(S(""),b([]))}),[a]),Object(i.jsx)(w,{visible:t,content:Object(i.jsxs)("div",{className:"search-view-container",children:[Object(i.jsx)("div",{className:"search-field-container",children:Object(i.jsxs)("div",{className:"search-field",children:[Object(i.jsx)(p,{color:"white",size:"40px",visible:m}),Object(i.jsx)(k.a,{value:a,onChange:function(e){u(e.target.value)},disabled:m,placeholder:"Enter a movie name"}),Object(i.jsx)(M.a,{style:h(a&&!m),className:"delete-text-cross",onClick:function(){u("")}})]})}),Object(i.jsxs)("div",{className:"movies-search-result",children:[Object(i.jsx)(F,{movies:v,onMovieClick:function(e){return s(e)}}),Object(i.jsx)("div",{className:"label-result",children:C})]})]}),onCloseClick:function(){return n()}})};n(81);var B=function(e){var t=e.visible,n=e.onCloseClick,s=e.onGenreClick,o=Object(c.useState)([]),r=Object(l.a)(o,2),a=r[0],u=r[1],d=Object(c.useState)(!0),j=Object(l.a)(d,2),v=j[0],b=j[1];return Object(c.useEffect)((function(){b(!0),x.getMoviesGenres((function(e){e&&e.length>0&&u(e),b(!1)}))}),[]),Object(i.jsx)(w,{visible:t,content:Object(i.jsxs)("div",{className:"list-genres-view-container",children:[Object(i.jsx)(p,{color:"white",size:"60px",position:"center",visible:v}),Object(i.jsx)("div",{className:"list-genres",children:a.map((function(e){return Object(i.jsx)("div",{className:"genre",onClick:function(){return s(e)},children:e},e)}))})]}),onCloseClick:function(){return n()}})},U=n(54),G=n.n(U),z={update:function(e,t,n,i){this.genre=e,this.movies=t,this.pageIndex=n,this.movieElementId=i},get:function(e){return this.genre===e?{movies:this.movies,pageIndex:this.pageIndex,movieElementId:this.movieElementId}:null},clear:function(){this.genre="",this.movies=null},genre:"",movies:null,pageIndex:0,movieElementId:""};var A=function(e){var t=e.genre,n=e.loadFromCache,s=e.onMovieClick,o=Object(c.useState)([]),r=Object(l.a)(o,2),a=r[0],u=r[1],d=Object(c.useState)(0),j=Object(l.a)(d,2),v=j[0],b=j[1],f=Object(c.useState)(!1),O=Object(l.a)(f,2),m=O[0],h=O[1],g=function(){h(!0),x.getMoviesByGenre(t,v,(function(e){h(!1),e&&e.length>0&&u(1===v?e:a.concat(e))}),(function(){return h(!1)}))};Object(c.useEffect)((function(){if(n){var e=z.get(t);b(e.pageIndex)}else b(1),1===v&&g()}),[t]),Object(c.useEffect)((function(){if(v>0){var e=z.get(t);e?u(e.movies):g()}}),[v]),Object(c.useEffect)((function(){if(a&&a.length>0)if(n){var e=z.get(t);e&&(N(e.movieElementId),z.clear())}else 1===v&&N("movielite0")}),[a]);var N=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({block:"nearest",inline:"nearest"})},y=function(e,n){z.update(t,a,v,n),s(e)};return Object(i.jsxs)("div",{className:"movies-list-by-genre-container",children:[Object(i.jsxs)("div",{className:"movies-list-by-genre-header",children:[Object(i.jsx)("div",{className:"movies-list-genre",children:t}),Object(i.jsx)(p,{size:"30px",color:"white",visible:m})]}),Object(i.jsx)("div",{className:"movies-list-container full",children:Object(i.jsxs)("div",{className:"movies-list wrap-content",children:[a.map((function(e,t){return Object(i.jsx)("div",{id:"movielite"+t,children:Object(i.jsx)(L,{movie:e,onMovieClick:function(e){return y(e,"movielite"+t)}})},t)})),Object(i.jsx)("div",{className:"movies-list-more",children:Object(i.jsx)("div",{className:"round-btn grey",style:{visibility:m?"hidden":"visible"},onClick:function(){m||b(v+1)},children:Object(i.jsx)(G.a,{style:{width:"60px",height:"60px",color:"white",margin:"auto"}})})})]})})]})},D=(n(82),n(61)),H=n.n(D),Q=n(24),V=n.n(Q),J=(n(83),n(84),n(39)),X=n.n(J),W=n(59),Y=n.n(W),K=n(60),Z=n.n(K),$=n(55),_=n.n($),ee=n(56),te=n.n(ee),ne=n(57),ie=n.n(ne),ce=n(44),se=n.n(ce),oe=n(58),re=n.n(oe);var le=function(e){var t,n=e.videoQualitiesOptions,s=e.videoSubtitlesOptions,o=Object(c.useRef)(null),r=Object(c.useRef)(null),a=Object(c.useState)(""),u=Object(l.a)(a,2),d=u[0],j=u[1],v=Object(c.useState)(!1),b=Object(l.a)(v,2),f=b[0],O=b[1],m=Object(c.useState)(""),h=Object(l.a)(m,2),x=h[0],g=h[1],N=Object(c.useState)(30),y=Object(l.a)(N,2),C=y[0],S=y[1],k=Object(c.useState)(0),E=Object(l.a)(k,2),M=E[0],w=E[1],L=Object(c.useState)(!1),I=Object(l.a)(L,2),R=I[0],T=I[1],q=Object(c.useRef)(0),F=function(e){var t=!o.current.paused;j(e);var n=o.current.currentTime;o.current.load(),o.current.currentTime=n,t&&o.current.play()};return Object(c.useEffect)((function(){var e=function(){T(!0),q.current=Date.now();setTimeout((function(){(null===r||void 0===r?void 0:r.current)&&Date.now()>q.current+3e3&&T(!1)}),3500)};return r.current.addEventListener("mousemove",e),function(){(null===r||void 0===r?void 0:r.current)&&r.current.removeEventListener("mousemove",e)}}),[r]),Object(c.useEffect)((function(){var e;(null===o||void 0===o?void 0:o.current)&&O(4!==(null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.readyState))}),[null===o||void 0===o||null===(t=o.current)||void 0===t?void 0:t.readyState]),Object(c.useEffect)((function(){if(n){var e,t=n.find((function(e){return e.selected}));(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.url)&&F(t.data.url)}}),[n]),Object(i.jsxs)("div",{ref:r,className:"video-player-content",children:[Object(i.jsx)(p,{color:"white",size:"80px",position:"center",visible:f}),Object(i.jsx)("video",{ref:o,className:"video-player",children:Object(i.jsx)("source",{src:d,title:"1080p",type:"video/mp4"})}),Object(i.jsxs)("div",{className:"video-player-bottom",children:[Object(i.jsx)(ae,{videoPlayer:o.current,urlSource:x,size:C,subtitlesAdjustTime:M}),Object(i.jsxs)("div",{className:"video-player-controls-container",style:{display:R?"":"none"},children:[Object(i.jsx)(ve,{videoPlayer:o.current}),Object(i.jsxs)("div",{className:"video-player-controls",children:[Object(i.jsx)(ue,{videoPlayer:o.current}),Object(i.jsx)(de,{videoPlayerContainer:r.current,subtitlesOptions:s,qualityOptions:n,onSubtitleSizeChange:function(e){return S(C+e<=60&&C+e>=20?C+e:C)},onSubtitlesChange:function(e){return g(e||"")},onAdjustSubtitleTimeChange:function(e){return w(e||0)},onVideoQualityChange:function(e){return F(e)}})]})]})]})]})};function ae(e){var t=e.videoPlayer,n=e.urlSource,s=e.size,o=e.subtitlesAdjustTime,r=Object(c.useState)(""),a=Object(l.a)(r,2),u=a[0],d=a[1],j=Object(c.useState)([]),v=Object(l.a)(j,2),b=v[0],f=v[1],O=function(){if(b&&0!==b.length){var e=t.currentTime,n=b.find((function(t){return t.startTime+o<=e&&e<=t.endTime+o}));d(n?n.text:"")}};return Object(c.useEffect)((function(){if(n){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&this.responseText&&f(JSON.parse(this.response))},e.open("GET",n,!0),e.send()}return function(){f([]),d("")}}),[n]),Object(c.useEffect)((function(){return null===t||void 0===t||t.addEventListener("timeupdate",O),function(){null===t||void 0===t||t.removeEventListener("timeupdate",O)}}),[t,b,o]),Object(i.jsx)("div",{className:"video-player-subtitles",style:{fontSize:s+"px"},children:u})}function ue(e){var t=e.videoPlayer,n=Object(c.useState)(!1),s=Object(l.a)(n,2),o=s[0],r=s[1];return Object(c.useEffect)((function(){return t&&(t.onplay=function(){r(!0)},t.onpause=function(){r(!1)}),function(){t&&(t.onplay=null,t.onpause=null)}}),[t]),Object(i.jsxs)("div",{className:"controls-group",children:[Object(i.jsx)(V.a,{className:"icon",style:{display:o?"none":""},onClick:function(){t&&t.play()}}),Object(i.jsx)(X.a,{className:"icon",style:{display:o?"":"none"},onClick:function(){t&&t.pause()}}),Object(i.jsx)(be,{videoPlayer:t})]})}function de(e){var t=e.videoPlayerContainer,n=e.subtitlesOptions,s=e.qualityOptions,o=e.onSubtitleSizeChange,r=e.onSubtitlesChange,a=e.onAdjustSubtitleTimeChange,u=e.onVideoQualityChange,d=Object(c.useState)(!1),j=Object(l.a)(d,2),v=j[0],b=j[1],O=Object(c.useState)(null),m=Object(l.a)(O,2),h=m[0],x=m[1];return Object(c.useEffect)((function(){x(t)}),[t]),Object(c.useEffect)((function(){var e=function(){b(!v)};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}),[v]),Object(i.jsxs)("div",{className:"controls-group",children:[Object(i.jsx)(je,{onAdjustSubtitleTimeChange:function(e){return a(e)}}),Object(i.jsx)(se.a,{className:"icon big",onClick:function(){return o(2)}}),Object(i.jsx)(se.a,{className:"icon small",onClick:function(){return o(-2)}}),Object(i.jsx)(fe,{options:n,icon:Object(i.jsx)(_.a,{className:"icon"}),onOptionChanged:function(e){var t;return r((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.url)?e.data.url:"")}}),Object(i.jsx)(fe,{options:s,icon:Object(i.jsx)(f.a,{className:"icon"}),onOptionChanged:function(e){var t;return u((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.url)?e.data.url:"")}}),Object(i.jsx)(te.a,{className:"icon big",style:{display:v?"none":""},onClick:function(){h&&(h.requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.msRequestFullscreen&&h.msRequestFullscreen())}}),Object(i.jsx)(ie.a,{className:"icon big",style:{display:v?"":"none"},onClick:function(){document.exitFullscreen()}})]})}function je(e){var t=e.onAdjustSubtitleTimeChange,n=Object(c.useState)(!1),s=Object(l.a)(n,2),o=s[0],r=s[1],a=Object(c.useRef)(null);return y(a,(function(){return r(!1)})),Object(i.jsxs)("div",{ref:a,className:"adjust-subtitle-time-container",children:[Object(i.jsxs)("div",{className:"video-options-menu"+(o?"":" hidden"),children:[Object(i.jsx)("div",{className:"option",children:"Adj. Sub."}),Object(i.jsxs)("div",{className:"adjust-subtitle-time-input-container",children:[Object(i.jsx)("input",{type:"number",step:"0.01",onChange:function(e){return t(e.target.valueAsNumber)}}),Object(i.jsx)("span",{className:"option",children:" s"})]})]}),Object(i.jsx)(re.a,{className:"icon",onClick:function(){return r(!o)}})]})}function ve(e){var t=e.videoPlayer,n=Object(c.useState)("00:00"),s=Object(l.a)(n,2),o=s[0],r=s[1],a=Object(c.useState)("00:00"),u=Object(l.a)(a,2),d=u[0],j=u[1],v=Object(c.useState)(0),b=Object(l.a)(v,2),f=b[0],O=b[1],m=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=Math.floor(e-3600*t-60*n),c="";return t>0&&(c=t<10?"0"+t:t,c+=":"),c+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)},h=function(){r(m(t.currentTime)),O(100*t.currentTime/t.duration)};return Object(c.useEffect)((function(){return t&&t.addEventListener("timeupdate",h),function(){t&&t.removeEventListener("timeupdate",h)}}),[t]),Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.duration)&&j(m(t.duration))}),[null===t||void 0===t?void 0:t.duration]),Object(i.jsxs)("div",{className:"video-time-controller-container",children:[Object(i.jsx)("div",{className:"video-time-label",children:o}),Object(i.jsx)(Oe,{value:f,onCursorMoved:function(e){return function(e){(null===t||void 0===t?void 0:t.duration)&&(t.currentTime=Math.floor(e*t.duration/100),r(m(t.currentTime)))}(e)},progressColor:"#ed0f0f",cursorColor:"#b59e9e"}),Object(i.jsx)("div",{className:"video-time-label",children:d})]})}function be(e){var t=e.videoPlayer,n=Object(c.useState)(70),s=Object(l.a)(n,2),o=s[0],r=s[1],a=Object(c.useState)(70),u=Object(l.a)(a,2),d=u[0],j=u[1],v=function(e){t&&(t.volume=e/100,r(e))};return Object(c.useEffect)((function(){t&&v(70)}),[t]),Object(i.jsxs)("div",{className:"video-volume-controller",children:[Object(i.jsx)(Y.a,{className:"icon",onClick:function(){j(o),v(0)},style:{display:o>0?"":"none"}}),Object(i.jsx)(Z.a,{className:"icon",onClick:function(){return v(d)},style:{display:o>0?"none":""}}),Object(i.jsx)(Oe,{value:o,onCursorMoved:function(e){return v(e)},width:"120px",height:"4px"})]})}function fe(e){var t=e.options,n=e.icon,s=e.onOptionChanged,o=Object(c.useState)([]),r=Object(l.a)(o,2),a=r[0],u=r[1],d=Object(c.useState)(!1),j=Object(l.a)(d,2),v=j[0],b=j[1],f=Object(c.useState)(""),O=Object(l.a)(f,2),m=O[0],h=O[1],x=Object(c.useRef)(null),g=function(e,t){var n,i,c,o,r,l=a.find((function(e){return e.selected})),d=null===(n=e)||void 0===n||null===(i=n.subOptions)||void 0===i?void 0:i.find((function(e){return e.selected}));if((!(null===(c=e)||void 0===c?void 0:c.subOptions)||t)&&(!(null===(o=e)||void 0===o?void 0:o.subOptions)||(null===d||void 0===d?void 0:d.label)!==(null===t||void 0===t?void 0:t.label))&&((null===(r=e)||void 0===r?void 0:r.subOptions)||(null===l||void 0===l?void 0:l.label)!==e.label)){var j=[];a.forEach((function(n){var i={label:n.label,selected:n.label===e.label,data:n.data},c=[];n.subOptions&&(n.subOptions.forEach((function(e){var n={label:e.label,data:e.data,selected:e.label===(null===t||void 0===t?void 0:t.label)};c.push(n)})),i.subOptions=c),j.push(i)})),u(j),b(!1),(e=j.find((function(e){return e.selected}))).subOptions?s(e.subOptions.find((function(e){return e.selected}))):s(e)}},p=function(e,t){var n=document.getElementById("suboption-"+e.label);n&&(t?n.classList.remove("hidden"):n.classList.add("hidden"))},N=function(e){return(null===e||void 0===e?void 0:e.subOptions)?Object(i.jsx)("div",{id:"suboption-"+e.label,className:"video-options-menu suboptions hidden",children:e.subOptions.map((function(t){return Object(i.jsx)("div",{className:"option "+(t.selected?"selected":""),onClick:function(n){g(e,t),n.stopPropagation()},children:t.label},t.label)}))}):null};return Object(c.useEffect)((function(){t&&u(t)}),[t]),Object(c.useEffect)((function(){(null===a||void 0===a?void 0:a.length)&&a.length>0&&h(function(e){return e.map((function(e){return Object(i.jsxs)("div",{className:"option "+(e.selected?"selected":""),onClick:function(){return g(e)},onMouseOver:function(){return p(e,!0)},onMouseLeave:function(){return p(e,!1)},children:[e.label,N(e)]},e.label)}))}(a))}),[a]),y(x,(function(){return b(!1)})),Object(i.jsxs)("div",{ref:x,className:"video-options-container",children:[Object(i.jsx)("div",{className:"video-options-menu "+(v?"":"hidden"),children:m}),Object(i.jsx)("div",{className:"video-options-show-btn",onClick:function(){return b(!v)},children:n})]})}function Oe(e){var t=e.value,n=e.onCursorMoved,s=e.width,o=e.height,r=e.progressColor,a=e.cursorColor,u=Object(c.useState)(0),d=Object(l.a)(u,2),j=d[0],v=d[1],b=function(e){var t=e.clientX,i=e.target.parentElement.getBoundingClientRect();if(t>=i.left&&t<=i.right){var c=100*(t-i.left)/(i.right-i.left);v(c),n(c)}},f=function e(){document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",b)};return Object(c.useEffect)((function(){v(t)}),[t]),Object(i.jsxs)("div",{className:"video-player-slider-container",style:{width:s,height:o},onClick:function(e){return b(e)},children:[Object(i.jsx)("div",{className:"complete-part",style:{width:j+"%",backgroundColor:r}}),Object(i.jsx)("div",{className:"remaining-part",style:{width:100-j+"%"}}),Object(i.jsx)("div",{className:"cursor",style:{left:j+"%",backgroundColor:a},onMouseDown:function(){return document.addEventListener("mousemove",b),void document.addEventListener("mouseup",f)}})]})}var me=function(e){var t=e.movie,n=e.visible,s=e.onCloseClick,o=Object(c.useState)([]),r=Object(l.a)(o,2),a=r[0],u=r[1],d=Object(c.useState)([]),j=Object(l.a)(d,2),v=j[0],b=j[1],f=Object(c.useRef)(null);return Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.imdbCode)&&(x.getAvailableSubtitles(t.imdbCode,(function(e){!function(e){var t=[];t.push({label:"Off",selected:!0}),e.forEach((function(e){var n={label:e.language,selected:!1,subOptions:[]};e.subtitlesIds.forEach((function(t,i){n.subOptions.push({label:e.language+" "+(i+1),selected:!1,data:{url:x.apiSubtitlesUrl+t}})})),t.push(n)})),u(t)}(e)})),function(e){var t=[];e.torrents&&(e.torrents.forEach((function(e){var n=t.filter((function(t){return t.label.startsWith(e.quality)})),i={label:n&&n.length>0?e.quality+" ("+(n.length+1)+")":e.quality,selected:!1,data:{url:x.apiStreamUrl+e.downloadUrl}};t.push(i)})),t[0].selected=!0,b(t))}(t))}),[t]),y(f,(function(){return s()})),Object(i.jsx)("div",{style:h(n),className:"video-player-window-container",children:Object(i.jsx)("div",{ref:f,className:"video-player-container",children:Object(i.jsx)(le,{videoQualitiesOptions:v,videoSubtitlesOptions:a})})})};var he=function(e){var t=e.movieId,n=e.onCloseClick,s=Object(c.useState)({}),o=Object(l.a)(s,2),r=o[0],a=o[1],u=Object(c.useState)(!1),d=Object(l.a)(u,2),j=d[0],v=d[1],b=Object(c.useState)(!1),f=Object(l.a)(b,2),O=f[0],m=f[1];return Object(c.useEffect)((function(){v(!1),t&&x.getMovieDetails(t,(function(e){e&&(a(e),v(!0))}))}),[t]),Object(i.jsxs)("div",{style:{height:"100%"},children:[Object(i.jsx)(p,{color:"white",size:"80px",position:"center",visible:!j}),Object(i.jsxs)("div",{style:h(j),className:"movie-full-presentation-container",children:[Object(i.jsx)(me,{visible:O,movie:O?r:{},onCloseClick:function(){return m(!1)}}),Object(i.jsx)("div",{className:"movie-full-presentation-close-btn",onClick:function(){return n()},children:Object(i.jsx)(H.a,{className:"close-cross"})}),Object(i.jsxs)("div",{className:"movie-full-presentation-header",style:{backgroundImage:"url("+r.backgroundImageUrl+")"},children:[Object(i.jsxs)("div",{className:"cover-and-rating",children:[Object(i.jsx)("img",{className:"cover",src:r.coverImageUrl}),Object(i.jsxs)("div",{className:"rating",children:[r.rating," "]})]}),Object(i.jsxs)("div",{className:"title-and-trailer",children:[Object(i.jsx)("div",{className:"title",children:r.title}),Object(i.jsx)("div",{className:"year",children:r.year}),Object(i.jsx)("iframe",{className:"trailer",src:r.youtubeTrailerUrl})]})]}),Object(i.jsxs)("div",{className:"movie-full-presentation-play",children:[Object(i.jsxs)("div",{className:"qualities",children:[Object(i.jsx)("span",{className:"title",children:"Qualities "}),function(e){if(e){var t=e.map((function(e){return e.quality}));return t.filter((function(e,n){return t.indexOf(e)===n})).join(", ")}}(r.torrents)]}),Object(i.jsxs)("div",{className:"standard-button red",onClick:function(){return m(!0)},children:[Object(i.jsx)(V.a,{}),Object(i.jsx)("div",{style:{marginLeft:"5px"},children:"Play"})]})]}),Object(i.jsxs)("div",{className:"movie-full-presentation-body",children:[Object(i.jsxs)("div",{className:"movie-full-presentation-info",children:[Object(i.jsx)("div",{className:"title",children:"Genre"}),Object(i.jsx)("div",{className:"content",children:r.genres})]}),Object(i.jsxs)("div",{className:"movie-full-presentation-info",children:[Object(i.jsx)("div",{className:"title",children:"Synopsis"}),Object(i.jsx)("div",{className:"content",children:r.synopsis})]}),Object(i.jsxs)("div",{className:"movie-full-presentation-info",children:[Object(i.jsx)("div",{className:"title",children:"Director"}),Object(i.jsx)("div",{className:"content",children:r.director})]}),Object(i.jsxs)("div",{className:"movie-full-presentation-info",children:[Object(i.jsx)("div",{className:"title",children:"Cast"}),Object(i.jsx)("div",{className:"content",children:r.cast})]})]})]})]})};n(85),n(86);var xe=function(e){var t=e.movie,n=e.visible,c=e.onMoreClick;return Object(i.jsxs)("div",{className:"suggested-movie "+(n?"":"hidden"),style:{backgroundImage:"url("+t.backgroundImageUrl+")"},children:[Object(i.jsxs)("div",{className:"suggested-movie-infos",children:[Object(i.jsx)("img",{alt:"",className:"suggested-movie-cover-image",src:t.coverImageUrl}),Object(i.jsx)("div",{className:"suggested-movie-rating",children:t.rating})]}),Object(i.jsxs)("div",{className:"suggested-movie-infos",children:[Object(i.jsx)("div",{className:"suggested-movie-title",children:t.title}),Object(i.jsx)("div",{className:"suggested-movie-year",children:t.year}),Object(i.jsx)("div",{className:"suggested-movie-summary",children:function(e){if(!e)return"";return e.substring(0,500)+(e&&e.length>500?"...":"")}(t.synopsis)}),Object(i.jsx)("div",{className:"standard-button red center",onClick:function(){return c()},children:"More"})]})]})};var ge=function(e){var t=e.onMoreClick,n=e.onDataLoaded,s=Object(c.useState)([]),o=Object(l.a)(s,2),r=o[0],a=o[1],u=Object(c.useState)(0),d=Object(l.a)(u,2),j=d[0],v=d[1],b=Object(c.useState)(!0),f=Object(l.a)(b,2),O=f[0],m=f[1];return Object(c.useEffect)((function(){x.getSuggestedMovies((function(e){e&&e.length>0&&(a(e),n())}),(function(){return console.log("fail")}))}),[]),Object(c.useEffect)((function(){var e;return O&&(e=setTimeout((function(){j===r.length-1?v(0):v(j+1)}),5e3)),function(){clearTimeout(e)}}),[j,O]),Object(i.jsxs)("div",{className:"suggested-movies-container",children:[Object(i.jsx)(pe,{nbMovies:null===r||void 0===r?void 0:r.length,selectedIndex:j,onNavElementClick:function(e){return v(e)}}),Object(i.jsxs)("div",{className:"suggested-movies-play-pause",onClick:function(){return m(!O)},children:[Object(i.jsx)(V.a,{className:"icon",style:{display:O?"none":""}}),Object(i.jsx)(X.a,{className:"icon",style:{display:O?"":"none"}})]}),r.map((function(e,n){return Object(i.jsx)(xe,{movie:e,visible:n===j,onMoreClick:function(){return t(e.id)}},n)}))]})};function pe(e){for(var t=e.nbMovies,n=e.selectedIndex,c=e.onNavElementClick,s=[],o=0;o<=t-1;o++)s.push(o);return Object(i.jsx)("div",{className:"suggested-movies-nav",children:s.map((function(e){return Object(i.jsx)("div",{onClick:function(){return c(e)},className:"nav-elem"+(n===e?" selected":"")},e)}))})}var Ne=function(e){var t=e.genre,n=e.visible,s=e.onMoreClick,o=e.onMovieClick,r=Object(c.useState)([]),a=Object(l.a)(r,2),u=a[0],d=a[1];return Object(c.useEffect)((function(){x.getLastMoviesByGenre(t,(function(e){e&&e.length>0&&d(e)}),(function(){return console.log("fail")}))}),[]),Object(i.jsxs)("div",{style:h(u&&u.length>0&&n,1),className:"movies-list-genre-container",children:[Object(i.jsxs)("div",{className:"movies-list-header",children:[Object(i.jsx)("div",{className:"movies-list-genre",children:t}),Object(i.jsx)("div",{className:"standard-button red",onClick:function(){return s()},children:"More"})]}),Object(i.jsx)(F,{movies:u,onMovieClick:function(e){return o(e)}})]})};var ye=function(e){var t=e.onShowGenreFullList,n=e.onMovieClick,s=Object(c.useRef)(null),o=Object(c.useState)([]),r=Object(l.a)(o,2),a=r[0],u=r[1],d=function(e,t){var n=e.getBoundingClientRect();return Math.floor(n.top)<=Math.floor(t.bottom-100)&&Math.floor(n.bottom)>=Math.floor(t.top+150)},j=function(){for(var e=[],t=s.current.getBoundingClientRect(),n=0;n<s.current.children.length;n++)e.push(d(s.current.children[n],t));u(e)};return Object(c.useEffect)((function(){for(var e=[],t=0;t<s.current.children.length;t++)e.push(!0);u(e)}),[]),Object(c.useEffect)((function(){return(null===s||void 0===s?void 0:s.current)&&s.current.addEventListener("scroll",j,!1),function(){(null===s||void 0===s?void 0:s.current)&&s.current.removeEventListener("scroll",j)}}),[s]),Object(i.jsx)("div",{ref:s,style:{height:"100%",overflowY:"scroll"},children:["Thriller","Crime","Animation","Sci-Fi"].map((function(e,c){return Object(i.jsx)(Ne,{visible:a[c],genre:e,onMoreClick:function(){return t(e)},onMovieClick:function(e){return n(e)}},e)}))})};var Ce=function(e){var t=e.onMovieClick,n=e.onShowGenreFullList,s=Object(c.useState)(!1),o=Object(l.a)(s,2),r=o[0],a=o[1];return Object(i.jsxs)("div",{style:{height:"100%"},children:[Object(i.jsx)(p,{color:"white",size:"80px",position:"center",visible:!r}),Object(i.jsxs)("div",{className:"home-page-container",style:h(r),children:[Object(i.jsx)("div",{className:"suggested-movies",children:Object(i.jsx)(ge,{onMoreClick:function(e){return t(e)},onDataLoaded:function(){return a(!0)}})}),Object(i.jsx)("div",{className:"last-movies",children:Object(i.jsx)(ye,{onShowGenreFullList:function(e){return n(e)},onMovieClick:function(e){return t(e)}})})]})]})};var Se=function(e){var t=e.components,n=e.activeComponentId,s=Object(c.useState)({}),o=Object(l.a)(s,2),r=o[0],a=o[1];return Object(c.useEffect)((function(){var e=t.find((function(e){return e.id===n}));e&&a(e)}),[t,n]),Object(i.jsx)("div",{style:{height:"100%"},children:r.render})};var ke=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(!1),r=Object(l.a)(o,2),a=r[0],u=r[1],d=Object(c.useState)(!0),j=Object(l.a)(d,2),v=j[0],b=j[1],f=Object(c.useState)(!1),O=Object(l.a)(f,2),m=O[0],h=O[1],x=Object(c.useState)(!1),g=Object(l.a)(x,2),p=g[0],N=g[1],y=Object(c.useState)(""),k=Object(l.a)(y,2),E=k[0],M=k[1],w=function(e){Q(U),G(e)},L=function(e){s(e),u(!1),w(R.moviesGenreFullList)},I=function(e){h(!1),M(e),w(R.movieFullPresentation)},R={homePage:"homePage",moviesGenreFullList:"moviesOfGenre",movieFullPresentation:"movieFullPresentation"},T={components:[{id:R.homePage,render:Object(i.jsx)(Ce,{onMovieClick:function(e){return I(e)},onShowGenreFullList:function(e){return L(e)}})},{id:R.moviesGenreFullList,render:Object(i.jsx)(A,{genre:n,loadFromCache:a,onMovieClick:function(e){return I(e)}})},{id:R.movieFullPresentation,render:Object(i.jsx)(he,{movieId:E,onCloseClick:function(){u(!0),w(H)}})}]},q=Object(c.useState)(R.homePage),F=Object(l.a)(q,2),U=F[0],G=F[1],z=Object(c.useState)(R.homePage),D=Object(l.a)(z,2),H=D[0],Q=D[1];return Object(c.useEffect)((function(){setTimeout((function(){b(!1)}),4e3)}),[]),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(S,{visible:v}),Object(i.jsx)(P,{visible:m,onCloseClick:function(){return h(!1)},onMovieClick:function(e){return I(e)}}),Object(i.jsx)(B,{visible:p,onGenreClick:function(e){N(!1),L(e)},onCloseClick:function(){return N(!1)}}),Object(i.jsx)(C,{onSearchClick:function(){return h(!0)},onHomeClick:function(){return G(R.homePage)},onGenreMenuClick:function(){return N(!0)}}),Object(i.jsx)("div",{className:"app-content",children:Object(i.jsx)(Se,{components:T.components,activeComponentId:U})})]})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),s(e),o(e)}))};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(ke,{})}),document.getElementById("root")),Ee()}},[[87,1,2]]]);
//# sourceMappingURL=main.a995bf11.chunk.js.map