(this["webpackJsonpreact-streaming-client"]=this["webpackJsonpreact-streaming-client"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n(0),r=n.n(c),o=n(13),a=n.n(o),s=(n(88),n(3)),l=(n(89),n(30)),u=(n(90),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARQAAAAlCAMAAAC0/+b3AAACdlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8qNy/4AAAA0XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFxgaGxwdHh8gIiMkJSYnKCkqKywtLzAxMzQ3ODk7PT9AQUJDRUZHSElLTE1OT1JUVVZXWFlaW1xdXl9gYWJjZGVmaGlqa2xvcHFydHV2eHl6fH1+f4CCg4SGh4iKi42Oj5OUlZeYmZucnZ+hoqOkpaanqKmqq6ytrq+xsrO1uLm6u72+v8HCw8TFx8jJysvMzc7P0NHT1NbZ2tzd3uDh4uPk5ebn6Orr7O3u7/Dx8vP09fb3+Pn6+/z9/jaJQ6QAAAABYktHRNF50f8KAAAE2ElEQVRo3u2a6WNMVxTAz0xEQhASYxe7WCKaVBCEStrQVitVVbWFLqqIXWOX2lpp7TShpUVXiSpKS1AqsiCduf9RM/ecO+++ee+Nl8w1uR96vrx3z7nb+82ce8599wH8LzaSu4PLh/bWRWjNpOLGHY6yUWo1vELIif1ri4Y6D+6yP4AtXJfr/rEyyrlk2JjexQG2drZYVqIFYAlDmWbX9Yt+brvUjsq3maPclpplmU23SrMdpu6yP4BGrlviHkoe9pJnYxr0CG27ww1vo77egPKHFRwkXOYmfzZEBaVZfnrFow0UmEND5JvVA2pRvdCAwkqtrVejZRtEDYWxs0O1gQLlaKzxycq4c6g96ZGg+C3/8VFPcXpdVUBhdbO1gdLtBloPy8qPUHevF0hQWHV7c9O4C6h/DZRAYYFPdIECObhWsiJDNeYJqgrBBIWFTXopar+WVNMLHWW6VC0pk2Ts1DdLzv8bGqAkfHIu+1MOBdai+Z/+QpFYjZq9EAblcbpp3anjysZB0Qb9lFUPxQhzW9uHaijxF9F+xkuKTyncJIdDYee8RjNPBeo+VpALpR6iARrTNYECgykuF1O2FsB1dQJYoLAFlrh1ub2KDNFTQgOc9mgCRSQl+DN1u4mlTWAD5WEf0abn37g45mASFzWWzTTCFF2gwJeUQcU33x/A+6pEM5Tv8XIsLJSX8cI7JVFD8Z7CDiu0gZJyM7T6v4p3T0aDGcrYGrzOQO1LFLR5epNWGz0UGIFRMJCmCxQYh2GxKas3egX7AMKgpBVSlpcSVCb/haW3+I98himAAl9gl+9rAwXWYZ0rlXj91muBIhyGb5N2UorCl8VipgRKPmXR+kBpd15eTx9JuUcIiu8O/r+b9+fjMUDdD2a8MKzBgNJ/gIO4iFFJj3mntXL8cd3fc4ECQ+okKHPABgqQA/3escMVvHuD47wgpaKOaflIF/OkfKm3mzR/ZEygwFxjRNM+yIAiHGjDerwe4fYVTBWUY1g1SyMo8FVoq+VzgEIO1NTEL3d78H3SU2VQdmHVSTpBSSUHCpjfsUlQhANJ28W4KqYMyh6sOlknKPNpvO3gCEU4UFA+54pOTB0USt+yNYIyvB6rXe0cAQo5UNDHuttBOVjhIG5Ssmp5JBlK5bP7ez5QEn5hlL9BBCiGAxWAHZRopCfG+QavBUpiG+UpsIkedjVEhCIcaA8oh1KEXX0D2kCZjD8T+yG4J4TX5zlCQQf6s6t6KN9hVyu0geK7hXUahvFErrZusBMUKAiWpoJyKLTFDAzUBspRcp5F/HXkz4z9GO8EJehAO0E5lOTf7F4dtCWU94jJKb7v2GZ6TAuU7jXXuyiH4j1OU8jVBUo6ReMHfY0A489xggIFE0A1lCR6zWU6GmhTKAm/0oxm8uI+LFzr4gRFFjVQMi7RDOqH6AJFvB7dR+5Bi+5nMYLifeFgQGQ/RaAJlCk0pRsizOYF5DePLYIS4fBK3tKkCuWsxWvK7xnJuyVJaiGUMuuwL7cKio/2F/6JIVUpau73aTGUCMecVVIrh2NT6xFSC6HYSGNroHjEsr/Z0HXALyxYpTeWUB4Ugi5QFojTc3nkTPycgC2LIZTj/UAXKCMa6EhjjEm9nA6PR8cKSqX9l1ltAiVBxMKwT9riztL/5z/xk1pSPhmQ0AAAAABJRU5ErkJggg=="),d=n(61),b=n.n(d),j=n(57),f=n.n(j),v=n(60),h=n.n(v),O=n(59),m=n.n(O),g=n(45),p=n.n(g),x=n(62),C=n.n(x),y={onAppModeChanged:function(e){var t="appModeChanged";this.modeChangedEvent||(this.modeChangedEvent=new Event(t)),document.addEventListener(t,(function(t){e&&e()}),!1)},modeChangedEvent:null,modes:[{label:"Films",urlKey:"movies",isActive:!0},{label:"Series",urlKey:"series",isActive:!1}],getActiveMode:function(){return this.modes.find((function(e){return e.isActive}))},switchActiveMode:function(){this.modes.forEach((function(e){e.isActive=!e.isActive})),this.modeChangedEvent&&document.dispatchEvent(this.modeChangedEvent)}};var k=function(e){var t=e.onSearchClick,n=e.onHomeClick,r=e.onGenreMenuClick,o=e.onWatchedMediasClick,a=e.onBookmarkedMediasClick,d=e.onTorrentLinkClick,j=e.onAppModeSwitch,v=Object(c.useState)([]),O=Object(s.a)(v,2),g=O[0],x=O[1];Object(c.useEffect)((function(){x(y.modes)}),[]);var k={color:"white",width:"30px",height:"30px"};return Object(i.jsxs)("div",{className:"nav-bar-container",children:[Object(i.jsx)("div",{className:"nav-bar-left",children:g.map((function(e){return Object(i.jsx)("div",{className:"mode "+(e.isActive?"active":""),onClick:function(){e.isActive||function(){y.switchActiveMode();var e=Object(l.a)(y.modes);x(e),j(y.getActiveMode())}()},children:e.label},e.label)}))}),Object(i.jsx)("img",{className:"nav-bar-logo",alt:"",src:u}),Object(i.jsxs)("div",{className:"nav-bar-right",children:[Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return n()},children:Object(i.jsx)(f.a,{style:k})}),Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return o()},children:Object(i.jsx)(m.a,{style:k})}),Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return a()},children:Object(i.jsx)(p.a,{style:k})}),Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return r()},children:Object(i.jsx)(h.a,{style:k})}),Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return t()},children:Object(i.jsx)(b.a,{style:k})}),Object(i.jsx)("div",{className:"nav-bar-btn",onClick:function(){return d()},children:Object(i.jsx)(C.a,{style:k})})]})]})},S=(n(95),n(142));var N=function(e,t,n){var i={visibility:e?"visible":"hidden",opacity:e?"1":"0",transition:"all "+(t?t+"s":"0.5s")};return n&&(i.zIndex=e?n:"-1"),i};var M=function(e){var t=e.position,n=e.color,r=e.size,o=e.visible,a=e.text,l=Object(c.useState)({}),u=Object(s.a)(l,2),d=u[0],b=u[1],j=Object(c.useState)(),f=Object(s.a)(j,2),v=f[0],h=f[1];return Object(c.useEffect)((function(){"center"===t&&b({position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"})}),[t]),Object(c.useEffect)((function(){h(a)}),[a]),Object(i.jsx)("div",{style:N(o),children:Object(i.jsxs)("div",{style:d,children:[Object(i.jsx)("div",{style:{color:"white",fontSize:"20px",fontWeigth:"bold"},children:v}),Object(i.jsx)(S.a,{style:{color:n,width:r,height:"auto"}})]})})};var A=function(e){var t=e.visible,n=e.showErrorMessage;return Object(i.jsxs)("div",{className:"splash-screen-container"+(t?"":" hidden"),children:[Object(i.jsx)("img",{alt:"",src:u}),Object(i.jsx)(M,{color:"white",size:"40px",visible:!n}),Object(i.jsx)("div",{className:"error-message",style:{display:n?"":"none"},children:"The application failed to load, try to relaunch it"})]})},E=(n(96),n(97),n(46)),T=n.n(E);var w=function(e){var t=e.visible,n=e.content,c=e.onCloseClick;return Object(i.jsx)("div",{style:N(t),className:"modal-window-container"+(t?" visible":""),children:Object(i.jsxs)("div",{className:"modal-window-content",children:[Object(i.jsx)("div",{className:"modal-window-close-btn",style:{display:c?"":"none"},onClick:function(){return c()},children:Object(i.jsx)(T.a,{className:"close-cross"})}),n]})})},U=n(16),P=n(17),R=n(19),L=n(18),I=function(){function e(){Object(U.a)(this,e),this._apiBaseUrl="http://localhost:5000/"}return Object(P.a)(e,[{key:"buildUrl",value:function(e){return this._apiBaseUrl+e}},{key:"getRequest",value:function(e,t,n,i,c){var r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var e=n&&this.response?JSON.parse(this.response):this.response;i&&i(e)}else c&&c()},t&&t.length>0){e+="?";for(var o=0;o<t.length;o++){var a=t[o];e+=a.name+"="+a.value,o!==t.length-1&&(e+="&")}}r.open("GET",e,!0),r.send()}},{key:"postRequest",value:function(e,t,n,i){var c=new XMLHttpRequest;c.onreadystatechange=function(){4===this.readyState&&(200===this.status?n&&n():i&&i())},c.open("POST",e,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(t)}},{key:"putRequest",value:function(e,t,n){var i=new XMLHttpRequest;i.open("PUT",e,!0),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(t)),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&Boolean(n)&&n()}}},{key:"deleteRequest",value:function(e,t,n){var i=new XMLHttpRequest;i.open("DELETE",e,!0),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(t)),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&n()}}}]),e}(),F=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"buildSearchUrl",value:function(e){return this.buildUrl(y.getActiveMode().urlKey+"/"+e)}},{key:"getMediaGenres",value:function(e,t){var n=this.buildSearchUrl("genres");this.getRequest(n,[],!0,e,t)}},{key:"getMediaPlatforms",value:function(e,t){var n=this.buildSearchUrl("platforms");this.getRequest(n,[],!0,e,t)}},{key:"getPopularMediasByGenre",value:function(e,t,n){var i=this.buildSearchUrl("genre/"+e);this.getRequest(i,[],!0,t,n)}},{key:"getMediasOfToday",value:function(e,t){var n=this.buildSearchUrl("mediasoftoday");this.getRequest(n,[],!0,e,t)}},{key:"getMediasByGenre",value:function(e,t,n,i){var c=this.buildSearchUrl("genre/"+e+"/"+t);this.getRequest(c,[],!0,n,i)}},{key:"getMediasByPlatform",value:function(e,t,n,i){var c=this.buildSearchUrl("platform/"+e+"/"+t);this.getRequest(c,[],!0,n,i)}},{key:"getMediaDetails",value:function(e,t,n){var i=this.buildSearchUrl("details/"+e);this.getRequest(i,[],!0,t,n)}},{key:"searchMedias",value:function(e,t,n){var i=this.buildSearchUrl("search"),c=[{name:"t",value:e}];this.getRequest(i,c,!0,t,n)}},{key:"getPopularNetflixMedias",value:function(e,t){var n=this.buildSearchUrl("netflix");this.getRequest(n,[],!0,e,t)}},{key:"getPopularDisneyPlusMedias",value:function(e,t){var n=this.buildSearchUrl("disneyplus");this.getRequest(n,[],!0,e,t)}},{key:"getPopularAmazonPrimeMedias",value:function(e,t){var n=this.buildSearchUrl("amazonprime");this.getRequest(n,[],!0,e,t)}},{key:"getPopularAppleTvMedias",value:function(e,t){var n=this.buildSearchUrl("appletv");this.getRequest(n,[],!0,e,t)}},{key:"getPopularMedias",value:function(e,t){var n=this.buildSearchUrl("popular");this.getRequest(n,[],!0,e,t)}},{key:"getRecommandedMedias",value:function(e,t){var n=this.buildSearchUrl("recommandations");this.getRequest(n,[],!0,e,t)}},{key:"getSimilarMedias",value:function(e,t,n){var i=this.buildSearchUrl("similar/"+e);this.getRequest(i,[],!0,t,n)}},{key:"getEpisodes",value:function(e,t,n,i){var c=this.buildSearchUrl("episodes/"+e+"/"+t);this.getRequest(c,[],!0,n,i)}}]),n}(I),V=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"buildBookmarkUrl",value:function(e){return this.buildUrl(y.getActiveMode().urlKey+"/bookmarks/"+(e||""))}},{key:"getBookmarkedMedias",value:function(e,t){this.getRequest(this.buildBookmarkUrl(),[],!0,e,t)}},{key:"addBookmarkedMedia",value:function(e,t){this.putRequest(this.buildBookmarkUrl(),e,t)}},{key:"deleteBookmarkedMedia",value:function(e,t){this.deleteRequest(this.buildBookmarkUrl(),e,t)}},{key:"isMediaBookmarked",value:function(e,t,n){var i=[{name:"id",value:e}];this.getRequest(this.buildBookmarkUrl("exists"),i,!1,t,n)}}]),n}(I),B=n(20),q=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"buildWatchedMediaUrl",value:function(e){return this.buildUrl(y.getActiveMode().urlKey+"/watchedmedia/"+(e||""))}},{key:"getWatchedMedias",value:function(e,t){this.getRequest(this.buildWatchedMediaUrl(),[],!0,e,t)}},{key:"getWatchedMedia",value:function(e,t,n,i,c){var r=[{name:"seasonNumber",value:t},{name:"episodeNumber",value:n}];this.getRequest(this.buildWatchedMediaUrl(e),r,!0,i,c)}},{key:"getWatchedEpisodes",value:function(e,t,n,i){this.getRequest(this.buildWatchedMediaUrl(e+"/"+t),[],!0,n,i)}},{key:"saveWacthedMedia",value:function(e,t,n,i,c){var r=Object(B.a)({},e);r.currentTime=t||0,r.totalDuration=n||0,"series"===y.getActiveMode().urlKey&&(r.seasonNumber=i,r.episodeNumber=c),this.putRequest(this.buildWatchedMediaUrl(),r)}}]),n}(I),z=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"buildTorrentUrl",value:function(e){return this.buildUrl("torrent/"+(e||""))}},{key:"buildStreamUrl",value:function(e,t,n,i){return t?this.buildTorrentUrl("stream/file?url="+e+"&fileName="+t):"series"===y.getActiveMode().urlKey?this.buildTorrentUrl("stream/series?url="+e+"&seasonNumber="+n+"&episodeNumber="+i):this.buildTorrentUrl("stream/movies?url="+e)}},{key:"searchVFSources",value:function(e,t,n,i,c,r,o){var a=this.buildTorrentUrl(y.getActiveMode().urlKey+"/vf"),s=[{name:"mediaId",value:e},{name:"title",value:t},{name:"year",value:n},{name:"season",value:i},{name:"episode",value:c}];this.getRequest(a,s,!0,r,o)}},{key:"searchVOSources",value:function(e,t,n,i,c,r,o){var a=this.buildTorrentUrl(y.getActiveMode().urlKey+"/vo"),s=[{name:"title",value:e},{name:"year",value:t},{name:"season",value:i},{name:"episode",value:c},{name:"imdbid",value:n}];this.getRequest(a,s,!0,r,o)}},{key:"getDownloadState",value:function(e,t,n){var i=[{name:"torrentUrl",value:new URLSearchParams(e.replace(this.buildTorrentUrl("stream/"+y.getActiveMode().urlKey)+"?","")).get("url")}];this.getRequest(this.buildTorrentUrl("streamdownloadstate"),i,!0,t,n)}},{key:"getTorrentFiles",value:function(e,t,n){var i=[{name:"torrentUrl",value:e}];this.getRequest(this.buildTorrentUrl("files"),i,!0,t,n)}},{key:"getTorrentHistory",value:function(e,t){this.getRequest(this.buildTorrentUrl("history"),null,!0,e,t)}}]),n}(I),D=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"buildSubtitlesUrl",value:function(e){return this.buildUrl("subtitles/"+(e||""))}},{key:"getAvailableSubtitles",value:function(e,t,n,i,c){var r=this.buildSubtitlesUrl(y.getActiveMode().urlKey),o=[{name:"imdbCode",value:e},{name:"seasonNumber",value:t},{name:"episodeNumber",value:n}];this.getRequest(r,o,!0,i,c)}},{key:"getSubtitlesApiUrl",value:function(e){return this.buildSubtitlesUrl("?sourceUrl="+e)}}]),n}(I),W=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"buildAppInfoUrl",value:function(e){return this.buildUrl("application/"+(e||""))}},{key:"isDesktopApplication",value:function(e,t){if(this.isDesktopApp)e(this.isDesktopApp);else{var n=this;this.getRequest(this.buildAppInfoUrl("platform"),null,!0,(function(t){n.isDesktopApp=t.isDesktopApplication,e(t.isDesktopApplication)}),t)}}},{key:"playWithVlc",value:function(e,t,n){var i=[{name:"data",value:btoa(e)}];this.getRequest(this.buildAppInfoUrl("startvlc"),i,!1,t,n)}}]),n}(I),H={init:function(){this.searchMediaService=new F,this.bookmarkApiService=new V,this.watchedMediaApiService=new q,this.torrentApiService=new z,this.subtitlesApiService=new D,this.appInfoApiService=new W}};var Q=function(e){var t=e.visible,n=e.onCloseClick,r=e.onGenreClick,o=e.onPlatformClick,a=Object(c.useState)(!0),l=Object(s.a)(a,2),u=l[0],d=l[1],b=Object(c.useState)([]),j=Object(s.a)(b,2),f=j[0],v=j[1],h=Object(c.useState)([]),O=Object(s.a)(h,2),m=O[0],g=O[1],p=function(){v([]),H.searchMediaService.getMediaGenres((function(e){e&&e.length>0&&v(e)})),H.searchMediaService.getMediaPlatforms((function(e){e&&e.length>0&&g(e)}))};return Object(c.useEffect)((function(){p(),y.onAppModeChanged((function(){p()}))}),[]),Object(c.useEffect)((function(){d(!f||0===f.length||!m||0===m.length)}),[f,m]),Object(i.jsx)(w,{visible:t,content:Object(i.jsxs)("div",{className:"list-categories-view-container",children:[Object(i.jsx)(M,{color:"white",size:"60px",position:"center",visible:u}),Object(i.jsx)("h3",{class:"categorie-title",children:"Genres"}),Object(i.jsx)("div",{className:"list-categories",children:f.map((function(e){return Object(i.jsx)("div",{className:"genre",onClick:function(){return r(e)},children:e.name},e.id)}))}),Object(i.jsx)("h3",{class:"categorie-title",children:"Platforms"}),Object(i.jsx)("div",{className:"list-categories",children:m.map((function(e){return Object(i.jsx)("div",{className:"genre",onClick:function(){return o(e)},children:e.name},e.id)}))})]}),onCloseClick:function(){return n()}})},G=(n(56),n(52),n(39),n(47)),K=n.n(G);var J=function(e){var t=e.rating,n=e.size,c={color:"white",fontSize:"small"===n?"15px":"20px",fontWeight:"bold",margin:"0 auto",backgroundColor:"#52525263",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",height:"small"===n?"35px":"50px",width:"small"===n?"35px":"50px"};return Object(i.jsx)("div",{style:c,children:t})};var Y=function(e){var t,n,r,o=e.media,a=e.onMediaClick,l=e.hoverEffect,u=Object(c.useState)(!1),d=Object(s.a)(u,2),b=d[0],j=d[1];return Object(c.useEffect)((function(){j(null===o||void 0===o?void 0:o.coverImageUrl)}),[o]),Boolean(null===o||void 0===o?void 0:o.coverImageUrl)?Object(i.jsx)("div",{style:N(b),children:Object(i.jsxs)("div",{className:"media-lite-presentation "+(l?"hover-effect":""),onClick:function(){setTimeout((function(){a&&a(null===o||void 0===o?void 0:o.id)}),150)},children:[Object(i.jsx)("div",{className:"media-lite-presentation-img",style:{backgroundImage:"url("+o.coverImageUrl+")"},children:Object(i.jsx)("div",{className:"rating",children:Object(i.jsx)(J,{rating:(r=o.rating,r?r.toString().replace(",","."):""),size:"small"})})}),Object(i.jsxs)("div",{className:"infos",children:[Object(i.jsx)("div",{className:"title",children:(t=o.title,n=25,t&&t.length>n?t.substring(0,n)+"...":t)}),Object(i.jsx)("div",{className:"year",children:o.year})]})]})}):null},X={cacheCollection:[],setCache:function(e,t){var n=this.getCache(e);n?n.data=t:this.cacheCollection.push({id:e,data:t})},getCache:function(e){return this.cacheCollection.find((function(t){return t.id===e}))},clearCache:function(){this.cacheCollection=[]}};var Z=function(e){var t=e.categorie,n=e.searchOperation,r=e.loadFromCache,o=e.onMediaClick,a=Object(c.useState)([]),l=Object(s.a)(a,2),u=l[0],d=l[1],b=Object(c.useState)(0),j=Object(s.a)(b,2),f=j[0],v=j[1],h=Object(c.useState)(!1),O=Object(s.a)(h,2),m=O[0],g=O[1],p=Object(c.useState)(!1),x=Object(s.a)(p,2),C=x[0],y=x[1],k=function(){g(!0),y(!1),n(t.id,f,(function(e){g(!1),e&&e.length>0&&(y(!0),d(1===f?e:u.concat(e)))}),(function(){return g(!1)}))},S=function(e){return"categorie"+e};Object(c.useEffect)((function(){if(r){var e=X.getCache(S(t.id));v(e.data.pageIndex)}else X.setCache(S(t.id),null),d([]),v(1),1===f&&k()}),[t.id]),Object(c.useEffect)((function(){if(f>0){var e=X.getCache(S(t.id));e&&e.data?d(e.data.medias):k()}}),[f]),Object(c.useEffect)((function(){if(u&&u.length>0)if(r){var e=X.getCache(S(t.id));e&&e.data&&(y(!0),N(e.data.mediaElementId),X.setCache(S(t.id),null))}else 1===f&&N("medialite0")}),[u]);var N=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({block:"nearest",inline:"nearest"})},A=function(e,n){var i={medias:u,pageIndex:f,mediaElementId:n};X.setCache(S(t.id),i),o(e)};return Object(i.jsxs)("div",{className:"medias-list-by-categorie-container",children:[Object(i.jsxs)("div",{className:"medias-list-by-categorie-header",children:[Object(i.jsx)("div",{className:"medias-list-categorie",children:t.name}),Object(i.jsx)(M,{size:"30px",color:"white",visible:m})]}),Object(i.jsx)("div",{className:"medias-list-container full",children:Object(i.jsxs)("div",{className:"medias-list wrap-content",children:[u.map((function(e,t){return Object(i.jsx)("div",{id:"medialite"+t,children:Object(i.jsx)(Y,{media:e,hoverEffect:!0,onMediaClick:function(e){return A(e,"medialite"+t)}})},t)})),Object(i.jsx)("div",{className:"medias-list-more",children:Object(i.jsx)("div",{className:"round-btn grey",style:{visibility:C?"visible":"hidden"},onClick:function(){C&&v(f+1)},children:Object(i.jsx)(K.a,{style:{width:"60px",height:"60px",color:"white",margin:"auto"}})})})]})})]})};var _=function(e){var t=e.genre,n=e.loadFromCache,c=e.onMediaClick;return Object(i.jsx)(Z,{categorie:t,loadFromCache:n,searchOperation:function(e,t,n,i){return H.searchMediaService.getMediasByGenre(e,t,n,i)},onMediaClick:function(e){return c(e)}})};var $=function(e){var t=e.platform,n=e.loadFromCache,c=e.onMediaClick;return Object(i.jsx)(Z,{categorie:t,loadFromCache:n,searchOperation:function(e,t,n,i){return H.searchMediaService.getMediasByPlatform(e,t,n,i)},onMediaClick:function(e){return c(e)}})},ee=(n(98),n(78)),te=n.n(ee);var ne=function(e){var t=e.visible,n=e.youtubeTrailerUrl,c=e.onCloseClick,r={width:"800px",height:"500px",margin:"auto 0",backgroundColor:"black",border:"none",boxShadow:"1px 1px 14px 7px #101010c9"};return Object(i.jsx)(w,{visible:t,content:Object(i.jsx)("iframe",{style:r,src:t?n:""}),onCloseClick:function(){return c()}})};var ie=function(e){var t=e.title,n=e.content,c={fontSize:"18px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"left"===e.justify?"flex-start":"center",margin:"10px 0"};return Object(i.jsxs)("div",{style:c,children:[Object(i.jsx)("div",{style:{color:"white",marginRight:"15px"},children:t}),Object(i.jsx)("div",{style:{color:"#959595",display:"flex"},children:n})]})};var ce=function(e){var t=e.value,n={width:e.width,backgroundColor:"#423737",height:"5px",borderRadius:"2px"},c={width:t+"%",backgroundColor:"#e91919",height:"100%",borderRadius:"2px"};return Object(i.jsx)("div",{style:n,children:Object(i.jsx)("div",{style:c})})};var re=function(e){var t=e.text,n={fontSize:"18px",fontWeight:"500",color:"#959595",textAlign:e.center?"center":"left",margin:"10px 0"};return Object(i.jsx)("div",{style:n,children:t})};var oe=function(e){var t=e.text;return!1===e.visible?null:Object(i.jsx)("p",{style:{fontSize:"17px",fontWeight:"500",color:"white"},children:t})};var ae=function(e){var t=e.color,n=e.content,r=e.centered,o=e.rounded,a=e.onClick,l=Object(c.useState)(!1),u=Object(s.a)(l,2),d=u[0],b=u[1],j=function(){b(!0),setTimeout((function(){b(!1),a()}),300)};return Object(i.jsxs)("div",{className:function(){var e="standard-button";return t&&(e+=" "+t),r&&(e+=" center"),o&&(e+=" rounded"),e}(),onClick:function(){return j()},children:[Object(i.jsx)("div",{className:"ripple-effect "+(d?"visible":"")}),n]})},se=n(63),le=n.n(se);function ue(e,t){Object(c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}var de=function(e){var t=e.values,n=e.width,r=e.onValueChanged,o=e.textAlignement,a=Object(c.useState)(!1),l=Object(s.a)(a,2),u=l[0],d=l[1],b=Object(c.useState)(""),j=Object(s.a)(b,2),f=j[0],v=j[1],h=Object(c.useState)([]),O=Object(s.a)(h,2),m=O[0],g=O[1],p=Object(c.useRef)(null);Object(c.useEffect)((function(){x(t)&&(g(t),v(t[0]))}),[t]),ue(p,(function(){return d(!1)}));var x=function(e){if(m.length!==e.length)return!0;var t=0;return m.forEach((function(n,i){e[i]!==n&&(t+=1)})),t>0},C={display:u?"block":"none",position:"absolute",bottom:"0",left:"50%",transform:"translate(-50%, 100%)",borderRadius:"5px",boxShadow:"rgb(0 0 0 / 91%) 0px 19px 20px 8px, rgb(0 0 0) 0px 15px 20px 0px",backgroundColor:"#141414",color:"white",fontSize:"16px",fontWeight:"500",maxHeight:"100px",width:n,overflowY:"scroll",zIndex:"5",textAlign:o||"left"},y={display:"flex",alignItems:"center",justifyContent:"center",width:n},k=Object(i.jsxs)("div",{style:y,children:[Object(i.jsx)("div",{children:f}),Object(i.jsx)(le.a,{})]}),S={padding:"5px",cursor:"pointer"};return Object(i.jsxs)("div",{ref:p,style:{position:"relative"},children:[Object(i.jsx)(ae,{color:"red",content:k,onClick:function(){return d(!u)}}),Object(i.jsx)("div",{style:C,children:m.map((function(e,n){return Object(i.jsx)("div",{style:S,onMouseOver:function(e){e.target.style.backgroundColor="#959595"},onMouseOut:function(e){e.target.style.backgroundColor=""},onClick:function(){return e=n,d(!1),v(t[e]),void r(e);var e},children:e},e)}))})]})};n(99);var be=function(e){for(var t=e.visible,n=e.serieId,r=e.numberOfSeasons,o=e.onEpisodeSelected,a=e.onCloseClick,u=Object(c.useState)(1),d=Object(s.a)(u,2),b=d[0],j=d[1],f=Object(c.useState)([]),v=Object(s.a)(f,2),h=v[0],O=v[1],m=Object(c.useState)(!1),g=Object(s.a)(m,2),p=g[0],x=g[1],C=Object(c.useState)(!1),y=Object(s.a)(C,2),k=y[0],S=y[1],A=Object(c.useRef)(null),E=[],T=1;T<=r;T++)E.push("Season "+T);Object(c.useEffect)((function(){n&&(O([]),x(!0),S(!1),H.searchMediaService.getEpisodes(n,b,(function(e){A.current&&(A.current.scrollTop=0),x(!1),e&&e.length>0?U(e,b):S(!0)}),(function(){x(!1),S(!0)})))}),[n,b]);var U=function(e,t){H.watchedMediaApiService.getWatchedEpisodes(n,t,(function(t){var n=Object(l.a)(e);t&&t.length>0&&t.forEach((function(e){var t=n.find((function(t){return t.episodeNumber===e.episodeNumber}));t&&(t.progression=e.currentTime/e.totalDuration)})),O(n)}),(function(){O(e)}))};return Object(i.jsx)(w,{visible:t,content:Object(i.jsxs)("div",{className:"modal-episode-selector-container",children:[Object(i.jsx)("div",{className:"season-selector-container",children:Object(i.jsx)(de,{values:E,width:"120px",textAlignement:"center",onValueChanged:function(e){return j(e+1)}})}),Object(i.jsxs)("div",{ref:A,className:"episode-list-container",children:[Object(i.jsxs)("div",{className:"loading-container",children:[Object(i.jsx)(M,{color:"white",size:"50px",visible:p}),Object(i.jsx)(oe,{text:"No episodes found",visible:k})]}),Object(i.jsx)("div",{style:N(h&&h.length>0),children:h.map((function(e){return Object(i.jsx)(je,{episode:e,onClick:function(){return o(b,e.episodeNumber)}},e.episodeNumber)}))})]})]}),onCloseClick:function(){return a()}})};function je(e){var t=e.episode,n=e.onClick;return Object(i.jsxs)("div",{className:"episode-container",onClick:function(){return n()},children:[Object(i.jsxs)("div",{style:{margin:"auto 0"},children:[Object(i.jsx)("img",{src:t.imagePath}),t.progression?Object(i.jsx)(ce,{value:100*t.progression,width:"98%"}):null]}),Object(i.jsxs)("div",{children:[Object(i.jsx)(ie,{title:t.episodeNumber+"."+t.name,content:function(e){var t=e/60,n=Math.trunc(t),i=Math.trunc(60*(t-n)),c="";return n>0&&(c+=n+"h "),i>0&&(c+=i+"min"),c}(t.runTime),justify:"left"}),Object(i.jsx)(re,{text:t.overview.substring(0,300)})]})]})}n(100),n(101);var fe=function(e){var t=e.videoCurrentTime,n=e.urlSource,r=e.size,o=e.subtitlesAdjustTime,a=Object(c.useState)(""),l=Object(s.a)(a,2),u=l[0],d=l[1],b=Object(c.useState)([]),j=Object(s.a)(b,2),f=j[0],v=j[1],h=Object(c.useState)(!1),O=Object(s.a)(h,2),m=O[0],g=O[1];return Object(c.useEffect)((function(){if(n){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&this.responseText&&v(JSON.parse(this.response))},e.open("GET",n,!0),e.send()}return function(){v([]),d("")}}),[n]),Object(c.useEffect)((function(){t&&function(e){if(f&&0!==f.length){var t=f.find((function(t){return t.startTime+o<=e&&e<=t.endTime+o}));if(null===t||void 0===t?void 0:t.text){var n=t.text;g(!1),(n.includes("<i>")||n.includes("</i>"))&&(g(!0),n=n.replace("<i>","").replace("</i>","")),d(n)}else d("")}}(t)}),[t,f,o]),Object(i.jsx)("div",{className:"video-player-subtitles",style:{fontSize:r+"px",fontStyle:m?"italic":""},children:u})};var ve=function(e){var t=e.value,n=e.width,r=e.height,o=e.progressColor,a=e.cursorColor,l=e.tooltip,u=e.onCursorMoved,d=e.onCursorEndMove,b=e.onMouseOverSlider,j=Object(c.useState)(0),f=Object(s.a)(j,2),v=f[0],h=f[1],O=Object(c.useState)(!1),m=Object(s.a)(O,2),g=m[0],p=m[1],x=function(e,t){return e<t.left?0:e>t.right?100:100*(e-t.left)/(t.right-t.left)},C=function(e){var t=x(e.clientX,e.target.parentElement.getBoundingClientRect());h(t),u&&u(t)},y=function e(t){if(d){var n=x(t.clientX,t.target.parentElement.getBoundingClientRect());d(n)}document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",C)};return Object(c.useEffect)((function(){h(t)}),[t]),Object(c.useEffect)((function(){l&&p(!0)}),[l]),Object(i.jsxs)("div",{className:"video-player-slider-container",style:{width:n,height:r},onClick:function(e){return function(e){var t=x(e.clientX,e.target.parentElement.getBoundingClientRect());h(t),d&&d(t)}(e)},onMouseMove:function(e){return function(e){var t=x(e.clientX,e.target.parentElement.getBoundingClientRect());b&&b(t)}(e)},onMouseLeave:function(){p(!1)},children:[Object(i.jsx)("div",{className:"complete-part",style:{width:v+"%",backgroundColor:o}}),Object(i.jsx)("div",{className:"remaining-part",style:{width:100-v+"%"}}),Object(i.jsx)("div",{className:"cursor",style:{left:v+"%",backgroundColor:a},onMouseDown:function(){return document.addEventListener("mousemove",C),void document.addEventListener("mouseup",y)}}),Object(i.jsx)("div",{className:"tooltip",style:{left:(null===l||void 0===l?void 0:l.position)+"%",display:g?"":"none"},children:null===l||void 0===l?void 0:l.text})]})};var he=function(e){var t=e.videoDuration,n=e.videoCurrentTime,r=e.onTimeChanged,o=Object(c.useState)("00:00"),a=Object(s.a)(o,2),l=a[0],u=a[1],d=Object(c.useState)("00:00"),b=Object(s.a)(d,2),j=b[0],f=b[1],v=Object(c.useState)(0),h=Object(s.a)(v,2),O=h[0],m=h[1],g=Object(c.useState)(null),p=Object(s.a)(g,2),x=p[0],C=p[1],y=Object(c.useState)(0),k=Object(s.a)(y,2),S=k[0],N=k[1],M=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=Math.floor(e-3600*t-60*n),c="";return t>0&&(c=t<10?"0"+t:t,c+=":"),c+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)};return Object(c.useEffect)((function(){var e;n&&(u(M(e=n)),f(M(t-e)),m(S&&S>0?100*e/S:0))}),[n]),Object(c.useEffect)((function(){t?(N(t),f(M(t))):N(0)}),[t]),Object(i.jsxs)("div",{className:"video-time-controller-container",children:[Object(i.jsx)("div",{className:"video-time-label",children:l}),Object(i.jsx)(ve,{value:O,onCursorEndMove:function(e){return function(e){if(S&&S>0){var t=Math.floor(e*S/100);u(M(t)),r(t)}}(e)},onMouseOverSlider:function(e){return function(e){S&&S>0&&C({text:M(Math.floor(e*S/100)),position:e})}(e)},tooltip:x,progressColor:"#ed0f0f",cursorColor:"#b59e9e"}),Object(i.jsx)("div",{className:"video-time-label",children:j})]})},Oe=n(22),me=n.n(Oe),ge=n(48),pe=n.n(ge),xe=n(66),Ce=n.n(xe),ye=n(67),ke=n.n(ye),Se=n(65),Ne=n.n(Se),Me=n(64),Ae=n.n(Me);var Ee=function(e){var t=e.videoIsPlaying,n=e.onPlayClick,r=e.onPauseClick,o=e.onVolumeChanged,a=e.onPlayBackwardClick,l=e.onPlayForwardClick,u=Object(c.useState)(!0),d=Object(s.a)(u,2),b=d[0],j=d[1];return Object(c.useEffect)((function(){j(!t)}),[t]),Object(i.jsxs)("div",{className:"controls-group",children:[Object(i.jsx)(me.a,{className:"icon",style:{display:b?"":"none"},onClick:function(){return n()}}),Object(i.jsx)(pe.a,{className:"icon",style:{display:b?"none":""},onClick:function(){return r()}}),Object(i.jsx)(Te,{onVolumeChanged:function(e){return o(e)}}),Object(i.jsx)(Ae.a,{className:"icon",onClick:function(){return a()}}),Object(i.jsx)(Ne.a,{className:"icon",onClick:function(){return l()}})]})};function Te(e){var t=e.onVolumeChanged,n=Object(c.useRef)(0),r=Object(c.useState)(70),o=Object(s.a)(r,2),a=o[0],l=o[1],u=function(e){n.current=e,t(e/100)};return Object(c.useEffect)((function(){u(70);var e=function(e){38===e.keyCode&&n.current<100?u(n.current+10):40===e.keyCode&&n.current>0&&u(n.current-10)};return document.addEventListener("keyup",e,!1),function(){document.removeEventListener("keyup",e)}}),[]),Object(i.jsxs)("div",{className:"video-volume-controller",children:[Object(i.jsx)(Ce.a,{className:"icon",onClick:function(){l(n.current),u(0)},style:{display:n.current>0?"":"none"}}),Object(i.jsx)(ke.a,{className:"icon",onClick:function(){return u(a)},style:{display:n.current>0?"none":""}}),Object(i.jsx)(ve,{value:n.current,onCursorMoved:function(e){return u(e)},onCursorEndMove:function(e){return u(e)},width:"120px",height:"4px"})]})}var we=n(69),Ue=n.n(we),Pe=n(68),Re=n.n(Pe),Le=n(70),Ie=n.n(Le),Fe=n(71),Ve=n.n(Fe),Be=n(53),qe=n.n(Be),ze=n(72),De=n.n(ze);function We(e){var t=e.options,n=e.icon,r=e.onOptionChanged,o=Object(c.useState)([]),a=Object(s.a)(o,2),l=a[0],u=a[1],d=Object(c.useState)([]),b=Object(s.a)(d,2),j=b[0],f=b[1],v=Object(c.useState)(!1),h=Object(s.a)(v,2),O=h[0],m=h[1],g=Object(c.useState)(!1),p=Object(s.a)(g,2),x=p[0],C=p[1],y=Object(c.useState)(null),k=Object(s.a)(y,2),S=k[0],N=k[1],M=Object(c.useState)(null),A=Object(s.a)(M,2),E=A[0],T=A[1],w=function(e,t){var n,i=l.find((function(e){return e.selected})),c=null===e||void 0===e||null===(n=e.subOptions)||void 0===n?void 0:n.find((function(e){return e.selected}));if((!(null===e||void 0===e?void 0:e.subOptions)||t)&&(!(null===e||void 0===e?void 0:e.subOptions)||(null===c||void 0===c?void 0:c.label)!==(null===t||void 0===t?void 0:t.label))&&((null===e||void 0===e?void 0:e.subOptions)||(null===i||void 0===i?void 0:i.label)!==e.label)){var o=[];l.forEach((function(n){var i={label:n.label,selected:n.label===e.label,data:n.data},c=[];n.subOptions&&(n.subOptions.forEach((function(e){var n={label:e.label,data:e.data,selected:e.label===(null===t||void 0===t?void 0:t.label)};c.push(n)})),i.subOptions=c),o.push(i)})),u(o),m(!1),C(!1);var a=o.find((function(e){return e.selected}));a.subOptions?r(a.subOptions.find((function(e){return e.selected}))):r(a)}};return Object(c.useEffect)((function(){t&&u(t)}),[t]),Object(c.useEffect)((function(){S&&!S.subOptions&&w(S,null)}),[S]),Object(c.useEffect)((function(){S&&E&&w(S,E)}),[E]),Object(i.jsxs)("div",{className:"video-options-container",onMouseLeave:function(){m(!1),C(!1)},children:[Object(i.jsx)("div",{className:"video-options-menu "+(O?"":"hidden"),onMouseEnter:function(){C(!0)},children:l.map((function(e){return function(e){return Object(i.jsx)("div",{className:"option "+(e.selected?"selected":""),onClick:function(){e.subOptions||N(e)},onMouseEnter:function(){e.subOptions&&(N(e),f(e&&e.subOptions?e.subOptions:[]))},children:e.label},e.label)}(e)}))}),Object(i.jsx)("div",{className:"video-options-menu suboptions "+(x&&j&&j.length>0?"":"hidden"),onMouseLeave:function(){C(!1)},children:j.map((function(e){return function(e){return Object(i.jsx)("div",{className:"option "+(e.selected?"selected":""),onClick:function(){return T(e)},children:e.label},e.label)}(e)}))}),Object(i.jsx)(He,{icon:n,onClick:function(){return m(!O)}})]})}function He(e){var t=e.icon,n=e.hide,c=e.onClick;return Object(i.jsx)("div",{className:"video-options-btn",style:{display:n?"none":""},onClick:function(){return c()},children:t})}var Qe=function(e){var t=e.subtitlesOptions,n=e.qualityOptions,r=e.onSubtitleSizeChange,o=e.onSubtitlesChange,a=e.onAdjustSubtitleTimeChange,l=e.onVideoQualityChange,u=e.isFullScreen,d=e.onFullScreenStateChanged,b=Object(c.useState)(!1),j=Object(s.a)(b,2),f=j[0],v=j[1],h=function(e){d(e)};return Object(c.useEffect)((function(){v(u)}),[u]),Object(i.jsxs)("div",{className:"controls-group",children:[Object(i.jsxs)("div",{className:"controls-sub-group",children:[Object(i.jsx)(We,{options:t,icon:Object(i.jsx)(Re.a,{className:"icon"}),onOptionChanged:function(e){var t;return o((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.url)?e.data.url:"")}}),Object(i.jsx)(Ge,{onAdjustSubtitleTimeChange:function(e){return a(e)}}),Object(i.jsx)(He,{icon:Object(i.jsx)(qe.a,{className:"icon big"}),onClick:function(){return r(2)}}),Object(i.jsx)(He,{icon:Object(i.jsx)(qe.a,{className:"icon small"}),onClick:function(){return r(-2)}})]}),Object(i.jsx)(We,{options:n,icon:Object(i.jsx)(Ue.a,{className:"icon"}),onOptionChanged:function(e){var t;return l((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.url)?e.data.url:"")}}),Object(i.jsx)(He,{icon:Object(i.jsx)(Ie.a,{className:"icon big"}),hide:f,onClick:function(){return h(!0)}}),Object(i.jsx)(He,{icon:Object(i.jsx)(Ve.a,{className:"icon big"}),hide:!f,onClick:function(){return h(!1)}})]})};function Ge(e){var t=e.onAdjustSubtitleTimeChange,n=Object(c.useState)(!1),r=Object(s.a)(n,2),o=r[0],a=r[1],l=Object(c.useRef)(null);return ue(l,(function(){return a(!1)})),Object(i.jsxs)("div",{ref:l,className:"adjust-subtitle-time-container",children:[Object(i.jsxs)("div",{className:"video-options-menu"+(o?"":" hidden"),children:[Object(i.jsx)("div",{className:"label",children:"Adj. Sub."}),Object(i.jsxs)("div",{className:"adjust-subtitle-time-input-container",children:[Object(i.jsx)("input",{type:"number",step:"0.01",onChange:function(e){return t(e.target.valueAsNumber)}}),Object(i.jsx)("span",{className:"label",children:" s"})]})]}),Object(i.jsx)(He,{icon:Object(i.jsx)(De.a,{className:"icon"}),onClick:function(){return a(!o)}})]})}var Ke=function(e){var t=e.videoIsPlaying,n=e.onPlayClick,c=e.onPauseClick,r=e.onVolumeChanged,o=e.onPlayBackwardClick,a=e.onPlayForwardClick,s=e.videoSubtitlesOptions,l=e.videoQualitiesOptions,u=e.onSubtitlesChange,d=e.onSubtitleSizeChange,b=e.onAdjustSubtitleTimeChange,j=e.onVideoQualityChange,f=e.isFullScreen,v=e.onFullScreenStateChanged;return Object(i.jsxs)("div",{className:"video-player-controls",children:[Object(i.jsx)(Ee,{videoIsPlaying:t,onPlayClick:function(){return n()},onPauseClick:function(){return c()},onVolumeChanged:function(e){return r(e)},onPlayBackwardClick:function(){return o()},onPlayForwardClick:function(){return a()}}),Object(i.jsx)(Qe,{subtitlesOptions:s,qualityOptions:l,onSubtitleSizeChange:function(e){return d(e)},onSubtitlesChange:function(e){return u(e)},onAdjustSubtitleTimeChange:function(e){return b(e)},onVideoQualityChange:function(e){return j(e)},isFullScreen:f,onFullScreenStateChanged:function(e){return v(e)}})]})};var Je=function(e){var t,n=e.videoQualitiesOptions,r=e.videoSubtitlesOptions,o=e.onWatchedTimeUpdate,a=e.videoTime,l=Object(c.useRef)(null),u=Object(c.useRef)(null),d=Object(c.useRef)(0),b=Object(c.useState)(!1),j=Object(s.a)(b,2),f=j[0],v=j[1],h=Object(c.useState)(0),O=Object(s.a)(h,2),m=O[0],g=O[1],p=Object(c.useState)(),x=Object(s.a)(p,2),C=x[0],y=x[1],k=Object(c.useRef)(!1),S=Object(c.useState)("Loading"),A=Object(s.a)(S,2),E=A[0],T=A[1],w=Object(c.useState)(""),U=Object(s.a)(w,2),P=U[0],R=U[1],L=Object(c.useState)(!1),I=Object(s.a)(L,2),F=I[0],V=I[1],B=Object(c.useState)(!1),q=Object(s.a)(B,2),z=q[0],D=q[1],W=Object(c.useState)(""),Q=Object(s.a)(W,2),G=Q[0],K=Q[1],J=Object(c.useState)(30),Y=Object(s.a)(J,2),X=Y[0],Z=Y[1],_=Object(c.useState)(0),$=Object(s.a)(_,2),ee=$[0],te=$[1],ne=Object(c.useState)(!1),ie=Object(s.a)(ne,2),ce=ie[0],re=ie[1],oe=Object(c.useRef)(0),ae=function e(t){k.current&&l.current&&H.torrentApiService.getDownloadState(t,(function(n){var i;decodeURIComponent(t)===decodeURIComponent(null===(i=l.current)||void 0===i?void 0:i.src)&&(n.error?(k.current=!1,y(n.message)):(T(n.message?n.message:"Loading"),setTimeout((function(){e(t)}),3e3)))}))},se=function(e){var t=l.current.currentTime;R(e),l.current.autoplay=!l.current.paused,l.current.load(),l.current.currentTime=t,g(t),V(!0),k.current=!0,y(""),ae(e)},le=function(e){l.current.currentTime=e},ue=function(){re(!0),u.current.style.cursor="auto",oe.current=Date.now();setTimeout((function(){(null===u||void 0===u?void 0:u.current)&&Date.now()>oe.current+3e3&&(re(!1),u.current.style.cursor="none")}),3500)},de=function(){(null===l||void 0===l?void 0:l.current)&&l.current.play()},be=function(){(null===l||void 0===l?void 0:l.current)&&l.current.pause()};return Object(c.useEffect)((function(){return u.current.addEventListener("mousemove",ue),function(){(null===u||void 0===u?void 0:u.current)&&u.current.removeEventListener("mousemove",ue)}}),[u]),Object(c.useEffect)((function(){if(Boolean(null===l||void 0===l?void 0:l.current)){var e=function(e){var t;(null===l||void 0===l||null===(t=l.current)||void 0===t?void 0:t.attributes.src.value)&&(y(C||"An error occured"),V(!1))};l.current.addEventListener("error",e,!0);var t=function(){k.current=!1,T(""),V(!1)};l.current.addEventListener("canplay",t,!0);l.current.addEventListener("playing",(function(){t(),D(!0)}),!0);var n=function(){D(!1)};l.current.addEventListener("pause",n,!0);var i=function(){V(!0)};l.current.addEventListener("waiting",i,!0);var c=function(e){var t;if(null===(t=l.current)||void 0===t?void 0:t.currentTime){var n,i;g(null===(n=l.current)||void 0===n?void 0:n.currentTime);var c=Math.round(null===(i=l.current)||void 0===i?void 0:i.currentTime);c-d.current>10&&(d.current=c,o(l.current.currentTime,l.current.duration))}};return l.current.addEventListener("timeupdate",c),function(){(null===l||void 0===l?void 0:l.current)&&(l.current.removeEventListener("error",e),l.current.removeEventListener("playing",t),l.current.removeEventListener("canplay",t),l.current.removeEventListener("waiting",i),l.current.removeEventListener("pause",n),l.current.removeEventListener("timeupdate",c))}}}),[l]),Object(c.useEffect)((function(){var e=function(e){v(document.fullscreenElement)},t=function(e){var t,n;(null===l||void 0===l?void 0:l.current)&&(ue(),32===e.keyCode?l.current.paused?de():be():37===e.keyCode?le((null===(t=l.current)||void 0===t?void 0:t.currentTime)-10):39===e.keyCode&&le((null===(n=l.current)||void 0===n?void 0:n.currentTime)+10))};return u.current&&(u.current.addEventListener("fullscreenchange",e),document.addEventListener("keyup",t,!1)),function(){u.current&&(document.removeEventListener("keyup",t),u.current.removeEventListener("fullscreenchange",e))}}),[]),Object(c.useEffect)((function(){if(n){var e,t=n.find((function(e){return e.selected}));(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.url)&&se(t.data.url)}}),[n]),Object(c.useEffect)((function(){a>0&&(null===l||void 0===l?void 0:l.current)&&(l.current.currentTime=a)}),[a]),Object(i.jsxs)("div",{ref:u,className:"video-player-content",children:[Object(i.jsx)(M,{color:"white",size:"80px",position:"center",visible:P&&F,text:E}),Object(i.jsx)("div",{className:"video-player-error-message",style:{display:C?"":"none"},children:C}),Object(i.jsx)("video",{ref:l,className:"video-player",src:P}),Object(i.jsxs)("div",{className:"video-player-bottom",children:[Object(i.jsx)(fe,{videoCurrentTime:m,urlSource:G,size:X,subtitlesAdjustTime:ee}),Object(i.jsxs)("div",{className:"video-player-controls-container",style:N(ce),children:[Object(i.jsx)(he,{videoDuration:null===(t=l.current)||void 0===t?void 0:t.duration,videoCurrentTime:m,onTimeChanged:function(e){return le(e)}}),Object(i.jsx)(Ke,{videoIsPlaying:z,onPlayClick:function(){return de()},onPauseClick:function(){return be()},onVolumeChanged:function(e){return function(e){(null===l||void 0===l?void 0:l.current)&&(l.current.volume=e)}(e)},onPlayBackwardClick:function(){return le(m-10)},onPlayForwardClick:function(){return le(m+10)},videoSubtitlesOptions:r,videoQualitiesOptions:n,onSubtitleSizeChange:function(e){return Z(X+e<=60&&X+e>=20?X+e:X)},onSubtitlesChange:function(e){return K(e||"")},onAdjustSubtitleTimeChange:function(e){return te(e||0)},onVideoQualityChange:function(e){return se(e)},isFullScreen:f,onFullScreenStateChanged:function(e){return function(e){if(e){if(!u.current)return;u.current.requestFullscreen?u.current.requestFullscreen():u.current.mozRequestFullScreen?u.current.mozRequestFullScreen():u.current.webkitRequestFullscreen?u.current.webkitRequestFullscreen():u.current.msRequestFullscreen&&u.current.msRequestFullscreen()}else document.exitFullscreen()}(e)}})]})]})]})};function Ye(e){var t=e.sources,n=e.subtitles,r=e.visible,o=e.onCloseClick,a=e.onWatchedTimeUpdate,l=e.goToTime,u=Object(c.useState)([]),d=Object(s.a)(u,2),b=d[0],j=d[1],f=Object(c.useState)([]),v=Object(s.a)(f,2),h=v[0],O=v[1],m=Object(c.useState)(!0),g=Object(s.a)(m,2),p=g[0],x=g[1],C=Object(c.useState)(0),y=Object(s.a)(C,2),k=y[0],S=y[1];Object(c.useEffect)((function(){r&&t&&t.length>0&&function(e){var t=[];e&&(e.forEach((function(e){var n=t.filter((function(t){return t.label.startsWith(e.quality)})),i={label:n&&n.length>0?e.quality+" ("+(n.length+1)+")":e.quality,selected:e.selected,data:{url:H.torrentApiService.buildStreamUrl(e.downloadUrl,e.fileName,e.seasonNumber,e.episodeNumber)}};t.push(i)})),0===t.filter((function(e){return e.selected})).length&&(t[0].selected=!0),O(t))}(t)}),[t,r]),Object(c.useEffect)((function(){r&&n&&n.length>0&&function(e){var t=[];t.push({label:"Off",selected:!0}),e&&e.length>0&&e.forEach((function(e){var n={label:e.language,selected:!1,subOptions:[]};e.subtitlesSourceUrls.forEach((function(t,i){n.subOptions.push({label:e.language+" "+(i+1),selected:!1,data:{url:H.subtitlesApiService.getSubtitlesApiUrl(t)}})})),t.push(n)})),j(t)}(n)}),[n,r]),Object(c.useEffect)((function(){l>0&&x(!0)}),[l]);var N=Object(i.jsxs)("div",{className:"video-player-window-container",children:[Object(i.jsx)(Ze,{visible:l>0&&p,resumeTime:l,onNoClick:function(){return x(!1)},onYesClick:function(){S(l),x(!1)}}),Object(i.jsx)(_e,{visible:r,videoQualitiesOptions:h,subtitlesOptions:b,onWatchedTimeUpdate:function(e,t){return a(e,t)},videoTime:k})]});return Object(i.jsx)(w,{visible:r,content:N,onCloseClick:function(){return o()}})}function Xe(e){var t=e/60,n=Math.trunc(t),i="";return n>0&&(i+=n+" h "),i+=Math.trunc(60*(t-n))+" min"}function Ze(e){var t=e.visible,n=e.resumeTime,c=e.onYesClick,r=e.onNoClick;return t?Object(i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsx)(oe,{text:"Do you want to resume the video to "+Xe(n/60)+" ?"}),Object(i.jsx)(ae,{color:"red",content:"Yes",onClick:function(){return c()}}),Object(i.jsx)(ae,{color:"grey",content:"No",onClick:function(){return r()}})]}):null}function _e(e){var t=e.visible,n=e.videoQualitiesOptions,c=e.subtitlesOptions,r=e.onWatchedTimeUpdate,o=e.videoTime;return t?Object(i.jsx)("div",{className:"video-player-container",children:Object(i.jsx)(Je,{videoQualitiesOptions:n,videoSubtitlesOptions:c,onWatchedTimeUpdate:function(e,t){return r(e,t)},videoTime:o})}):null}var $e=n(73),et=n.n($e);var tt=function(e){var t=e.visible,n=e.onClick;if(t){var c=Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(i.jsx)(et.a,{style:{color:"black"}}),Object(i.jsx)("div",{style:{marginLeft:"5px"},children:"Trailer"})]});return Object(i.jsx)(ae,{content:c,color:"white",onClick:function(){return n()}})}return null};var nt=function(e){var t=e.text;return Object(i.jsx)("div",{style:{fontSize:"28px",fontWeight:"500",color:"white",textAlign:"center"},children:t})},it=n(74),ct=n.n(it);var rt=function(e){var t=e.onClick,n=Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(i.jsx)(ct.a,{}),Object(i.jsx)("div",{style:{marginLeft:"5px"},children:"Copy"})]});return Object(i.jsx)(ae,{content:n,color:"grey",onClick:function(){return t()}})};var ot=function(e){var t=e.onClick,n=e.videoUrl,r=Object(c.useState)(!1),o=Object(s.a)(r,2),a=o[0],l=o[1],u=Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(i.jsx)(me.a,{}),Object(i.jsx)("div",{style:{marginLeft:"5px"},children:"Play With VLC"})]}),d=function(){l(!0),t&&t()};return Object(i.jsxs)("div",{children:[Object(i.jsx)(ae,{content:u,color:"orange",onClick:function(){return d()}}),Object(i.jsx)(at,{visible:a,videoUrl:n,onCloseClick:function(){return l(!1)}})]})};function at(e){var t=e.visible,n=e.videoUrl,c=e.onCloseClick,r=Object(i.jsx)("div",{style:{backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center",height:"300px",width:"500px",padding:"0 20px",margin:"auto",color:"white",borderRadius:"10px",background:"linear-gradient(342deg, rgba(42,42,42,1) 0%, rgba(0,0,0,1) 65%)"},children:Object(i.jsx)(st,{videoUrl:n,launchPlay:t,onCloseClick:function(){return c()}})});return Object(i.jsx)(w,{visible:t,content:r})}function st(e){var t=e.videoUrl,n=e.launchPlay,r=e.onCloseClick,o=Object(c.useState)(null),a=Object(s.a)(o,2),l=a[0],u=a[1],d=Object(c.useRef)(null),b=Object(c.useState)(null),j=Object(s.a)(b,2),f=j[0],v=j[1],h=Object(c.useRef)(!1);Object(c.useEffect)((function(){null===l&&H.appInfoApiService.isDesktopApplication((function(e){u(e)}))}),[l]),Object(c.useEffect)((function(){n&&l&&t&&(v({message:"Loading"}),H.appInfoApiService.playWithVlc(t,(function(){v({message:"Loading",url:t,checkState:!0})}),(function(){v({message:"Error trying to open VLC. Make sure it is correctly installed.",checkState:!1,error:!0})})))}),[n]),Object(c.useEffect)((function(){h.current=null===f||void 0===f?void 0:f.checkState,(null===f||void 0===f?void 0:f.checkState)&&setTimeout((function(){return m(f.url)}),3e3)}),[f]);var O=function(){v(null),r()},m=function(e){H.torrentApiService.getDownloadState(e,(function(t){decodeURIComponent(f.url)===decodeURIComponent(e)&&h.current&&v({message:t.message,checkState:!t.error,error:Boolean(t.error),url:e})}))},g=function(e){return{display:"flex",alignItems:"center",height:"100%",justifyContent:"space-around",flexDirection:e?"column":""}};return l?Object(i.jsxs)("div",{style:g(!0),children:[Object(i.jsx)(nt,{text:"Play with VLC"}),Object(i.jsx)(re,{text:null===f||void 0===f?void 0:f.message,center:!0}),Object(i.jsx)(S.a,{style:{display:(null===f||void 0===f?void 0:f.error)?"none":"",color:"white",width:"50px",height:"auto",margin:"40px auto"}}),Object(i.jsx)(ae,{content:"Close",color:"red",onClick:function(){return O()}})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)(nt,{text:"Play with VLC"}),Object(i.jsx)(re,{text:"To play the video in VLC, click on 'Copy', open VLC then open a network stream and paste the copied link."}),Object(i.jsx)("input",{ref:d,style:{background:"none",border:"none",outline:"none",color:"grey",width:"100%",textAlign:"center",textOverflow:"ellipsis",margin:"10px 0"},type:"text",readOnly:!0,value:Boolean(t)?t:""}),Object(i.jsxs)("div",{style:g(),children:[Object(i.jsx)(rt,{onClick:function(){(null===d||void 0===d?void 0:d.current)&&(d.current.select(),document.execCommand("copy"),window.getSelection().removeAllRanges())}}),Object(i.jsx)(ae,{content:"Close",color:"red",onClick:function(){return O()}})]})]})}var lt=n(75),ut=n.n(lt);function dt(e){var t=e.onClick,n=e.visible;return Object(i.jsx)(jt,{onClick:t,visible:n,color:"grey",insideIcon:Object(i.jsx)(K.a,{style:{fontSize:22,color:"white"}})})}function bt(e){var t=e.onClick,n=e.visible;return Object(i.jsx)(jt,{onClick:t,visible:n,color:"dark-red",insideIcon:Object(i.jsx)(ut.a,{style:{fontSize:22,color:"white"}})})}function jt(e){var t=e.onClick,n=e.visible,c=e.color,r=e.insideIcon;if(n){var o=Object(i.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(i.jsx)(p.a,{style:{fontSize:28}}),Object(i.jsx)("div",{style:{position:"absolute",top:"-2px",right:"-2px",padding:"1px",zIndex:3,width:"15px",height:"15px",borderRadius:"100%",backgroundColor:"rgba(45,44,44,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:r})]});return Object(i.jsx)(ae,{content:o,color:c,onClick:function(){return t()}})}return null}var ft=function(e){var t=e.center,n=e.onClick,c=Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(i.jsx)(me.a,{}),Object(i.jsx)("div",{style:{marginLeft:"5px"},children:"Play"})]});return Object(i.jsx)(ae,{content:c,centered:t,color:"red",onClick:function(){return n()}})},vt=n(77),ht=n.n(vt),Ot=n(76),mt=n.n(Ot);var gt=function(e){var t=e.medias,n=e.alignLeft,r=e.onMediaClick,o=Object(c.useRef)(null),a=Object(c.useState)(!0),l=Object(s.a)(a,2),u=l[0],d=l[1],b=Object(c.useState)(!1),j=Object(s.a)(b,2),f=j[0],v=j[1];Object(c.useEffect)((function(){o.current.onscroll=function(){m()}}),[]),Object(c.useEffect)((function(){t&&0!==t.length?m():(v(!0),d(!0))}),[t]),Object(c.useEffect)((function(){m()}),[u,f]);var h=function(e,t){var n=e.getBoundingClientRect();return Math.floor(n.right)<=Math.floor(t.right)&&Math.floor(n.left)>=Math.floor(t.left)},O=function(){for(var e=[],t=o.current.getBoundingClientRect(),n=0;n<o.current.children.length;n++)h(o.current.children[n],t)&&e.push(n);return{maxIndex:Math.max.apply(Math,e),minIndex:Math.min.apply(Math,e),count:e.length}},m=function(){if(o.current.children&&o.current.children.length>0){var e=o.current.getBoundingClientRect();d(h(o.current.children[0],e)),v(h(o.current.children[o.current.children.length-1],e))}};return Object(i.jsxs)("div",{className:"medias-list-container",children:[Object(i.jsx)("div",{style:N(!u),className:"floating-navigation-btn left",onClick:function(){return function(){if(o.current.children&&o.current.children.length>0){var e=O(),t=e.minIndex-e.count,n=t<0?0:t;o.current.children[n].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}()},children:Object(i.jsx)(mt.a,{style:{fontSize:40,color:"white"}})}),Object(i.jsx)("div",{style:N(!f),className:"floating-navigation-btn right",onClick:function(){return function(){if(o.current.children&&o.current.children.length>0){var e=O(),t=e.maxIndex+e.count,n=t>o.current.children.length-1?o.current.children.length-1:t;o.current.children[n].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}()},children:Object(i.jsx)(ht.a,{style:{fontSize:40,color:"white"}})}),Object(i.jsx)("div",{ref:o,className:"medias-list"+(u&&f&&!n?" center":""),children:t.map((function(e,t){return Object(i.jsx)(Y,{media:e,hoverEffect:!0,onMediaClick:function(e){return r(e)}},t)}))})]})};var pt=function(e){var t=e.listTitle,n=e.medias,c=e.alignLeft,r=e.visible,o=e.onMediaClick;return Object(i.jsxs)("div",{style:N(n&&n.length>0&&r,1),className:"medias-list-genre-container",children:[Object(i.jsx)("div",{className:"medias-list-header",children:Object(i.jsx)("div",{className:"medias-list-categorie",children:t})}),Object(i.jsx)(gt,{medias:n,alignLeft:c,onMediaClick:function(e){return o(e)}})]})};var xt=function(e){var t,n=e.mediaId,r=e.onCloseClick,o=Object(c.useState)(!1),a=Object(s.a)(o,2),l=a[0],u=a[1],d=Object(c.useState)({}),b=Object(s.a)(d,2),j=b[0],f=b[1],v=Object(c.useState)({}),h=Object(s.a)(v,2),O=h[0],m=h[1],g=Object(c.useRef)([]),p=Object(c.useState)(!1),x=Object(s.a)(p,2),C=x[0],y=x[1],k=Object(c.useState)(!1),S=Object(s.a)(k,2),A=S[0],E=S[1],T=Object(c.useState)([]),w=Object(s.a)(T,2),U=w[0],P=w[1],R=Object(c.useState)(""),L=Object(s.a)(R,2),I=L[0],F=L[1],V=Object(c.useState)([]),q=Object(s.a)(V,2),z=q[0],D=q[1],W=Object(c.useState)(!1),Q=Object(s.a)(W,2),G=Q[0],K=Q[1],Y=Object(c.useState)(!1),X=Object(s.a)(Y,2),Z=X[0],_=X[1],$=Object(c.useState)(!1),ee=Object(s.a)($,2),ce=ee[0],se=ee[1],le=Object(c.useState)(!0),ue=Object(s.a)(le,2),de=ue[0],be=ue[1],je=Object(c.useState)([]),fe=Object(s.a)(je,2),ve=fe[0],he=fe[1],Oe=Object(c.useRef)([]),me=Object(c.useRef)({seasonNumber:1,episodeNumber:1});Object(c.useEffect)((function(){n&&ge(n)}),[n]),Object(c.useEffect)((function(){j.imdbId&&Ne(j.imdbId,me.current.seasonNumber,me.current.episodeNumber),j.id&&j.title&&j.year&&(xe(),ye(j.id,j.title,j.year,me.current.seasonNumber,me.current.episodeNumber),ke(j.title,j.year,j.imdbId,me.current.seasonNumber,me.current.episodeNumber)),document.getElementsByClassName("back-btn")[0].scrollIntoView()}),[j]),Object(c.useEffect)((function(){!I&&U.length>0&&Ce(0)}),[U]);var ge=function(e){u(!1),f({}),he([]),e&&(H.searchMediaService.getMediaDetails(e,(function(t){t?(f(t),u(!0),H.bookmarkApiService.isMediaBookmarked(e,(function(e){be(!(e="true"===e))}))):(u(!0),document.getElementsByClassName("no-media-details-message")[0].scrollIntoView())})),Se(e,1,1),H.searchMediaService.getSimilarMedias(e,(function(e){e&&e.length>0&&he(e)})))},pe=function(e,t,n){if(t&&t.length>0){var i={versionLabel:e,sources:t};n?g.current.unshift(i):g.current.push(i),P(g.current[0].sources)}},xe=function(){g.current=[],P([]),F("")},Ce=function(e){for(var t=[],n=0;n<U.length;n++)t.push(U[n]),t[n].selected=e==n;F(U.length>0?H.torrentApiService.buildStreamUrl(U[e].downloadUrl,"",U[e].seasonNumber,U[e].episodeNumber):""),P(t)},ye=function(e,t,n,i,c){E(!0),H.torrentApiService.searchVFSources(e,t,n,i,c,(function(e){E(!1),e&&e.length>0&&pe("VF",e.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{seasonNumber:i,episodeNumber:c})})))}),(function(){E(!1)}))},ke=function(e,t,n,i,c){y(!0),H.torrentApiService.searchVOSources(e,t,n,i,c,(function(e){y(!1),e&&e.length>0&&pe("VO",e.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{seasonNumber:i,episodeNumber:c})})),!0)}),(function(){y(!1)}))},Se=function(e,t,n){m({}),H.watchedMediaApiService.getWatchedMedia(e,t,n,(function(e){(null===e||void 0===e?void 0:e.currentTime)&&(null===e||void 0===e?void 0:e.totalDuration)&&m({progression:e.currentTime/e.totalDuration,remainingTime:e.totalDuration-e.currentTime,currentTime:e.currentTime})}))},Ne=function(e,t,n){K(!0),H.subtitlesApiService.getAvailableSubtitles(e,t,n,(function(e){D(e),setTimeout((function(){return K(!1)}),1e3)}))},Me=function(){if(Oe.current.length>0){var e=Oe.current.pop();ge(e)}else r()};return Object(i.jsxs)("div",{style:{height:"100%"},children:[Object(i.jsx)(Ye,{visible:Z,sources:U,subtitles:z,onCloseClick:function(){return _(!1)},onWatchedTimeUpdate:function(e,t){return function(e,t){H.watchedMediaApiService.saveWacthedMedia(j,e,t,me.current.seasonNumber,me.current.episodeNumber)}(e,t)},goToTime:null===O||void 0===O?void 0:O.currentTime}),Object(i.jsx)(M,{color:"white",size:"80px",position:"center",visible:!l}),Object(i.jsx)(ne,{visible:ce,youtubeTrailerUrl:j.youtubeTrailerUrl,onCloseClick:function(){return se(!1)}}),Object(i.jsxs)("div",{style:{display:l&&!j.title?"flex":"none"},className:"no-media-details-message",children:[Object(i.jsx)(oe,{text:"No info found for this media"}),Object(i.jsx)(ae,{color:"red",content:"Back",onClick:function(){return Me()}})]}),Object(i.jsxs)("div",{style:N(l&&j.title),className:"media-presentation-page-container",children:[Object(i.jsx)("div",{className:"back-btn",onClick:function(){return Me()},children:Object(i.jsx)(te.a,{className:"back-arrow"})}),Object(i.jsx)("div",{className:"presentation",style:{backgroundImage:"url("+j.backgroundImageUrl+")"},children:Object(i.jsxs)("div",{className:"info-container",children:[Object(i.jsxs)("div",{className:"info",children:[Object(i.jsx)("div",{className:"title",children:j.logoImageUrl?Object(i.jsx)("img",{src:j.logoImageUrl}):Object(i.jsx)(nt,{text:j.title})}),Object(i.jsxs)("div",{className:"info-content",children:[Object(i.jsx)(J,{rating:j.rating,size:"50px"}),Object(i.jsx)(re,{center:!0,text:j.year+" | "+(j.duration?Xe(j.duration)+" | ":"")+(null===(t=j.genres)||void 0===t?void 0:t.map((function(e){return e.name})).join(", "))}),Object(i.jsx)(Ct,{mediaProgression:null===O||void 0===O?void 0:O.progression,remainingTime:null===O||void 0===O?void 0:O.remainingTime}),Object(i.jsxs)("div",{className:"horizontal",children:[Object(i.jsx)(tt,{visible:null===j||void 0===j?void 0:j.youtubeTrailerUrl,onClick:function(){return se(!0)}}),Object(i.jsx)(dt,{onClick:function(){H.bookmarkApiService.addBookmarkedMedia(j,(function(){be(!1)}))},visible:de}),Object(i.jsx)(bt,{onClick:function(){H.bookmarkApiService.deleteBookmarkedMedia(j,(function(){be(!0)}))},visible:!de})]}),Object(i.jsxs)("div",{className:"play-options",children:[Object(i.jsx)(Nt,{serieId:j.id,seasonsCount:j.seasonsCount,onEpisodeSelected:function(e,t){return function(e,t){xe(),me.current={seasonNumber:e,episodeNumber:t},ke(j.title,j.year,j.imdbId,e,t),ye(j.id,j.title,j.year,e,t),Ne(j.imdbId,e,t),Se(j.id,e,t)}(e,t)}}),Object(i.jsx)(yt,{loading:G,availableSubtitlesSources:z}),Object(i.jsx)(kt,{loading:C||A,availableVersionsSources:g.current,onVersionSelected:function(e){F(null),P(e.sources)}}),Object(i.jsxs)("div",{style:N(!(C||A)&&Boolean(U)&&U.length>0),children:[Object(i.jsx)(St,{versionSources:U,onQualityChanged:function(e){return Ce(e)}}),Object(i.jsxs)("div",{className:"horizontal",children:[Object(i.jsx)(ft,{onClick:function(){return _(!0)}}),Object(i.jsx)(ot,{videoUrl:I,onClick:function(){j&&H.watchedMediaApiService.saveWacthedMedia(j,0,0,me.current.seasonNumber,me.current.episodeNumber)}})]})]})]})]})]}),Object(i.jsxs)("div",{className:"extra",children:[Object(i.jsx)(ie,{title:"Director",content:j.director,justify:"left"}),Object(i.jsx)(ie,{title:"Cast",content:j.cast,justify:"left"}),Object(i.jsx)(oe,{text:j.synopsis}),Object(i.jsx)(pt,{medias:ve,alignLeft:!0,listTitle:"You may also like",visible:ve&&ve.length>0,onMediaClick:function(e){!function(e){Oe.current.push(j.id),ge(e)}(e)}})]})]})})]})]})};function Ct(e){var t=e.mediaProgression,n=e.remainingTime;return t>0?Object(i.jsxs)("div",{children:[Object(i.jsx)(ce,{width:"100%",value:100*t}),Object(i.jsx)(re,{text:Xe(n/60)+" remaining"})]}):null}function yt(e){var t=e.availableSubtitlesSources,n=e.loading,c=(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return e.language})).join(", "):"No subtitles available",r=n?Object(i.jsx)(M,{color:"white",size:"15px",visible:!0}):c;return Object(i.jsx)(ie,{title:"Subtitles",content:r})}function kt(e){var t,n=e.availableVersionsSources,r=e.loading,o=e.onVersionSelected,a=Object(c.useState)(0),l=Object(s.a)(a,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){r&&d(0)}),[r]),t=r?Object(i.jsx)(M,{color:"white",size:"15px",visible:!0}):(null===n||void 0===n?void 0:n.length)>0?n.map((function(e,t){return Object(i.jsx)(ae,{color:u==t?"red":"grey",content:e.versionLabel,onClick:function(){return d(e=t),void o(n[e]);var e}},t)})):"No version available",Object(i.jsx)(ie,{title:"Versions",content:t})}function St(e){var t=e.versionSources,n=e.onQualityChanged;if(!t||0===t.length)return null;var c=[];t.forEach((function(e){var t=c.filter((function(t){return t.startsWith(e.quality)})).length;c.push(e.quality+(t>0?" ("+t+")":""))}));var r=Object(i.jsx)(de,{values:c,onValueChanged:function(e){return n(e)}});return Object(i.jsx)(ie,{title:"Qualities",content:r,justify:"left"})}function Nt(e){var t=e.serieId,n=e.seasonsCount,r=e.onEpisodeSelected,o=Object(c.useState)(!1),a=Object(s.a)(o,2),l=a[0],u=a[1],d=Object(c.useState)(1),b=Object(s.a)(d,2),j=b[0],f=b[1],v=Object(c.useState)(1),h=Object(s.a)(v,2),O=h[0],m=h[1];if(Object(c.useEffect)((function(){f(1),m(1)}),[n]),!n)return null;var g=function(e,t){f(e),m(t),r(e,t),u(!1)};return Object(i.jsxs)("div",{style:{margin:"12px auto"},children:[Object(i.jsx)(be,{visible:l,serieId:t,numberOfSeasons:n,onEpisodeSelected:function(e,t){return g(e,t)},onCloseClick:function(){return u(!1)}}),Object(i.jsx)(ae,{color:"red",content:"Season "+j+" - Episode "+O,onClick:function(){u(!0)}})]})}n(102);var Mt=function(e){var t=e.media,n=e.visible,c=e.onClick;return Object(i.jsxs)("div",{className:"media-pictures "+(n?"":"hidden"),onClick:function(){return c(t.id)},children:[Object(i.jsx)("div",{className:"logo-title",children:Object(i.jsx)("img",{src:null===t||void 0===t?void 0:t.logoImageUrl})}),Object(i.jsx)("img",{className:"background-image",src:null===t||void 0===t?void 0:t.backgroundImageUrl})]})};n(103);var At=function(e){var t=e.medias,n=e.onClick,r=Object(c.useState)(0),o=Object(s.a)(r,2),a=o[0],l=o[1],u=Object(c.useState)(!1),d=Object(s.a)(u,2),b=d[0],j=d[1];return Object(c.useEffect)((function(){t&&t.length>0&&j(!0)}),[t]),Object(c.useEffect)((function(){var e;return b&&(e=setTimeout((function(){a===(null===t||void 0===t?void 0:t.length)-1?l(0):l(a+1)}),5e3)),function(){clearTimeout(e)}}),[a,b]),Object(i.jsxs)("div",{className:"medias-pictures-container",children:[null===t||void 0===t?void 0:t.map((function(e,t){return Object(i.jsx)(Mt,{media:e,visible:t===a,onClick:function(){return n(e.id)}},t)})),Object(i.jsxs)("div",{className:"medias-pictures-nav-controls",children:[Object(i.jsx)(Et,{nbMedias:null===t||void 0===t?void 0:t.length,selectedIndex:a,onNavElementClick:function(e){return l(e)}}),Object(i.jsxs)("div",{className:"medias-pictures-play-pause",onClick:function(){return j(!b)},children:[Object(i.jsx)(me.a,{className:"icon",style:{display:b?"none":""}}),Object(i.jsx)(pe.a,{className:"icon",style:{display:b?"":"none"}})]})]})]})};function Et(e){for(var t=e.nbMedias,n=e.selectedIndex,c=e.onNavElementClick,r=[],o=0;o<=t-1;o++)r.push(o);return Object(i.jsx)("div",{className:"medias-pictures-nav",children:r.map((function(e){return Object(i.jsx)("div",{onClick:function(){return c(e)},className:"nav-elem"+(n===e?" selected":"")},e)}))})}var Tt=function(e){var t,n=e.onMediaClick,r=e.onReady,o=e.onFail,a=Object(c.useState)(!1),u=Object(s.a)(a,2),d=u[0],b=u[1],j=Object(c.useRef)([]),f=Object(c.useRef)(""),v=Object(c.useState)([]),h=Object(s.a)(v,2),O=h[0],m=h[1],g="todayTrending",p=function(e,t,n){if(t&&t.length>0){var i={title:e,medias:t};n?j.current.unshift(i):j.current.push(i),X.setCache(f.current,j.current);var c=Object(l.a)(j.current);m(c)}},x=function(){f.current=function(e){return"homepage"+e}(y.getActiveMode().label);var e=X.getCache(f.current);j.current=[],e?(j.current=e.data,m(j.current),b(!0)):(H.searchMediaService.getMediasOfToday((function(e){p(g,e),b(!0),r()}),(function(){o()})),H.searchMediaService.getPopularMedias((function(e){p("Popular "+y.getActiveMode().label.toLocaleLowerCase(),e,!0)})),H.searchMediaService.getRecommandedMedias((function(e){p("Recommanded for you",e,!0)})),H.searchMediaService.getPopularNetflixMedias((function(e){p("Popular on Netflix",e)})),H.searchMediaService.getPopularDisneyPlusMedias((function(e){p("Popular on Disney Plus",e)})),H.searchMediaService.getPopularAmazonPrimeMedias((function(e){p("Popular on Amazon Prime",e)})),H.searchMediaService.getPopularAppleTvMedias((function(e){p("Popular on AppleTv",e)})))};return Object(c.useEffect)((function(){x(),y.onAppModeChanged((function(){x()}))}),[]),Object(i.jsxs)("div",{style:{height:"100%"},children:[Object(i.jsx)(M,{position:"center",visible:!d,color:"white",size:"60px"}),Object(i.jsxs)("div",{className:"home-page-container",style:N(d),children:[Object(i.jsx)(At,{medias:null===(t=O.find((function(e){return e.title===g})))||void 0===t?void 0:t.medias,onClick:function(e){return n(e)}}),Object(i.jsx)("div",{className:"blur-divider"}),O.filter((function(e){return e.title!==g})).map((function(e){return Object(i.jsx)(pt,{visible:!0,listTitle:e.title,medias:e.medias,onMediaClick:function(e){return n(e)}},e.title)}))]})]})};n(104),n(105);var wt=function(e){var t,n=e.media,c=e.onClick;return Object(i.jsxs)("div",{className:"media-intermediate-presentation-container",onClick:function(){return c()},children:[Object(i.jsx)(Y,{media:n}),Object(i.jsx)("div",{className:"media-intermediate-presentation-content",children:Object(i.jsxs)("div",{className:"media-intermediate-presentation-info",children:[Object(i.jsx)(re,{text:(t=n.synopsis,t&&t.length>400?t.substring(0,300)+"...":t)}),n.seasonNumber&&n.episodeNumber?Object(i.jsx)(re,{text:"Season "+n.seasonNumber+" - Episode "+n.episodeNumber}):null,n.totalDuration&&n.currentTime?Object(i.jsx)(ce,{value:n.currentTime/n.totalDuration*100,width:"100%"}):null]})})]})};var Ut=function(e){var t=e.title,n=e.medias,r=e.centerToMedia,o=e.loadingProgressVisible,a=e.onClick;return Object(c.useEffect)((function(){if(r){var e=n.findIndex((function(e){return e.id===r.id})),t=document.getElementById("mediaintermediatepresentation"+e);t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}}),[n,r]),Object(i.jsxs)("div",{children:[Object(i.jsx)(M,{color:"white",size:"80px",position:"center",visible:o}),Object(i.jsx)("div",{className:"media-intermediate-list-title-page",children:t}),Object(i.jsx)("div",{className:"media-intermediate-list-content",children:n.map((function(e,t){return Object(i.jsx)("div",{id:"mediaintermediatepresentation"+t,children:Object(i.jsx)(wt,{media:e,onClick:function(){return a(e)}})},t)}))})]})},Pt=null;var Rt=function(e){var t=e.centerToLastClickedMedia,n=e.onMediaClick,r=Object(c.useState)([]),o=Object(s.a)(r,2),a=o[0],l=o[1],u=Object(c.useState)(!0),d=Object(s.a)(u,2),b=d[0],j=d[1];Object(c.useEffect)((function(){t||(Pt=null),H.watchedMediaApiService.getWatchedMedias((function(e){j(!1),e&&e.length>0&&l(e)}),(function(){j(!1)}))}),[]);var f=y.getActiveMode().label.toLowerCase();return Object(i.jsx)(Ut,{title:a&&a.length>0?"You can see here the "+f+" you have watched":"No "+f+" watched",loadingProgressVisible:b,medias:a,centerToMedia:Pt,onClick:function(e){return function(e){Pt=e,n(e.id)}(e)}})},Lt=null;var It=function(e){var t=e.centerToLastClickedMedia,n=e.onMediaClick,r=Object(c.useState)([]),o=Object(s.a)(r,2),a=o[0],l=o[1],u=Object(c.useState)(!0),d=Object(s.a)(u,2),b=d[0],j=d[1];Object(c.useEffect)((function(){t||(Lt=null),H.bookmarkApiService.getBookmarkedMedias((function(e){j(!1),e&&e.length>0&&l(e)}),(function(){j(!1)}))}),[]);var f=y.getActiveMode().label.toLowerCase();return Object(i.jsx)(Ut,{title:a&&a.length>0?"You can see here the "+f+" you have bookmarked":"No bookmarked "+f,loadingProgressVisible:b,medias:a,centerToMedia:Lt,onClick:function(e){return function(e){Lt=e,n(e.id)}(e)}})},Ft=(n(106),n(107),n(143));var Vt=function(e){var t=e.placeHolder,n=e.onTextChanged,r=e.large,o=e.value;Object(c.useEffect)((function(){d(o)}),[o]);var a=Object(c.useState)(""),l=Object(s.a)(a,2),u=l[0],d=l[1],b=function(e){d(e),n(e)};return Object(i.jsx)("div",{className:"text-input-container",children:Object(i.jsxs)("div",{className:"text-input "+(r?"large":""),children:[Object(i.jsx)(Ft.a,{value:u,onChange:function(e){b(e.target.value)},placeholder:t}),Object(i.jsx)(T.a,{style:N(u),className:"delete-text-cross",onClick:function(){b("")}})]})})},Bt={searchValue:"",result:[],save:function(e,t){this.searchValue=e,this.result=t},clean:function(){this.searchValue="",this.result=[]}};var qt=function(e){var t=e.loadFromCache,n=e.onMediaClick,r=Object(c.useState)(""),o=Object(s.a)(r,2),a=o[0],l=o[1],u=Object(c.useState)([]),d=Object(s.a)(u,2),b=d[0],j=d[1],f=Object(c.useState)(!1),v=Object(s.a)(f,2),h=v[0],O=v[1],m=Object(c.useRef)(a),g=Object(c.useReducer)((function(e,t){return 0===t?"Nothing found":1===t?"one result":t>1?t+" results":""}),""),p=Object(s.a)(g,2),x=p[0],C=p[1];return Object(c.useEffect)((function(){t&&a===Bt.searchValue||(m.current=a,a&&a.length>2?setTimeout((function(){a===m.current&&(O(!0),C(-1),j([]),Bt.clean(),H.searchMediaService.searchMedias(a,(function(e){O(!1),m.current&&a===m.current&&(C(e.length),e&&e.length>0&&(j(e),Bt.save(a,e)))}),(function(){O(!1),C(0)})))}),1e3):(C(-1),j([])))}),[a]),Object(c.useEffect)((function(){t&&(j(Bt.result),C(Bt.result.length),l(Bt.searchValue))}),[]),Object(i.jsxs)("div",{className:"search-view-container",children:[Object(i.jsx)(Vt,{placeHolder:"Type here to start search...",large:!0,onTextChanged:function(e){l(e)}}),Object(i.jsx)(M,{color:"white",size:"40px",visible:h}),Object(i.jsxs)("div",{className:"medias-search-result",children:[Object(i.jsx)(gt,{medias:b,onMediaClick:function(e){return n(e)}}),Object(i.jsx)("div",{className:"label-result",children:x})]})]})};n(108);var zt=function(e){var t=e.onClick;if(!e.visible)return null;var n=Object(i.jsx)("div",{children:"Open"});return Object(i.jsx)(ae,{content:n,centered:!0,color:"red",onClick:function(){return t()}})};var Dt=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(c.useRef)(""),a=Object(c.useState)(!1),l=Object(s.a)(a,2),u=l[0],d=l[1],b=Object(c.useState)(!1),j=Object(s.a)(b,2),f=j[0],v=j[1],h=Object(c.useState)([]),O=Object(s.a)(h,2),m=O[0],g=O[1],p=Object(c.useState)([]),x=Object(s.a)(p,2),C=x[0],y=x[1],k=Object(c.useState)(""),S=Object(s.a)(k,2),N=S[0],A=S[1],E=Object(c.useState)(""),T=Object(s.a)(E,2),w=T[0],U=T[1],P=Object(c.useState)(!1),R=Object(s.a)(P,2),L=R[0],I=R[1],F=Object(c.useState)([]),V=Object(s.a)(F,2),B=V[0],q=V[1];Object(c.useEffect)((function(){q([{quality:"Movie",downloadUrl:n,fileName:N}]),n||z(),o.current=n}),[n,N]);var z=function(){v(!0),U("Loading history"),H.torrentApiService.getTorrentHistory((function(e){v(!1),g(e)}),(function(){v(!1),g([])}))},D=function(e){d(!1),A(""),r(e),y([])},W=function(){return u||C&&C.length>0};return Object(i.jsxs)("div",{className:"torrent-link-page-container",children:[Object(i.jsx)("div",{className:"title",children:"Enter a torrent url or magnet and click on Open to see the list of files"}),Object(i.jsx)(Vt,{placeHolder:"Torrent link or magnet...",large:!0,onTextChanged:function(e){return D(e)},value:n}),Object(i.jsxs)("div",{style:{margin:"10px 0"},children:[Object(i.jsx)(zt,{visible:!W(),onClick:function(){return y([]),d(!0),U("Opening torrent"),void H.torrentApiService.getTorrentFiles(n,(function(e){decodeURIComponent(o.current)===decodeURIComponent(e.link)&&(d(!1),y(e.files))}),(function(e){decodeURIComponent(o.current)===decodeURIComponent(e.link)&&(d(!1),y([]))}))}}),Boolean(u)||Boolean(f)?Object(i.jsx)(M,{visible:!0,size:"30px",color:"white",text:w}):null]}),Object(i.jsx)(Ht,{visible:!W(),files:m,onClick:function(e){D(e)}}),Object(i.jsx)(Wt,{visible:W(),torrentLink:n,files:C,onPlayFileClick:function(e){return function(e){A(e),I(!0)}(e)}}),Object(i.jsx)(Ye,{visible:L,sources:B,onCloseClick:function(){return I(!1)},onWatchedTimeUpdate:function(){}})]})};function Wt(e){var t=e.visible,n=e.torrentLink,c=e.files,r=e.onPlayFileClick;return t?Object(i.jsx)(Qt,{torrentLink:n,files:c,onPlayFileClick:function(e){return r(e)},contentType:"fileFromTorrent",listTitle:"Torrent files"}):null}function Ht(e){var t=e.visible,n=e.files,c=e.onClick;return t?Object(i.jsx)(Qt,{files:n,onFileClick:function(e){return c(e)},contentType:"torrentFile",listTitle:"Last opened torrent files"}):null}function Qt(e){var t=e.torrentLink,n=e.files,r=e.onFileClick,o=e.onPlayFileClick,a=e.contentType,l=e.listTitle,u=Object(c.useState)(null),d=Object(s.a)(u,2),b=d[0],j=d[1];if(Object(c.useEffect)((function(){j(null)}),[n]),!n||0===n.length)return null;var f={padding:"10px 7px",fontSize:"18px",fontWeight:"500",borderRadius:"7px",cursor:"pointer"},v=Object(B.a)(Object(B.a)({},f),{},{background:"linear-gradient(90deg, rgba(187,0,0,1) 0%, rgba(193,76,76,1) 35%, rgba(0,0,0,1) 100%)"}),h=Object(B.a)(Object(B.a)({},f),{},{fontSize:"20px",color:"#858585"}),O=function(e,n){return"fileFromTorrent"===a?Object(i.jsx)(Gt,{torrentLink:t,file:e,isSelected:n===b,onClick:function(){return j(n)},onPlayFileClick:function(){return o(e)}}):"torrentFile"===a?Object(i.jsx)(Kt,{file:e,onClick:function(e){return r(e)}}):void 0},m=function(e,t){e!==b&&(document.getElementById("idfile_"+e).style.background=t?"#362b2b":"")};return Object(i.jsxs)("div",{style:{width:"50%"},children:[Object(i.jsx)("div",{style:h,children:l}),Object(i.jsx)("div",{style:{background:"linear-gradient(342deg, rgba(42,42,42,1) 0%, rgba(0,0,0,1) 65%)",borderRadius:"15px",padding:"5px 0",maxHeight:"300px",overflowY:"auto"},children:n.map((function(e,t){return Object(i.jsx)("div",{id:"idfile_"+t,onMouseEnter:function(){m(t,!0)},onMouseLeave:function(){m(t,!1)},style:t===b?v:f,children:O(e,t)},t)}))})]})}function Gt(e){var t=e.torrentLink,n=e.file,c=e.isSelected,r=e.onClick,o=e.onPlayFileClick,a=null;return c&&(a=Object(i.jsxs)("div",{className:"play-buttons-container",children:[Object(i.jsx)(ft,{onClick:function(){return o()}}),Object(i.jsx)(ot,{videoUrl:H.torrentApiService.buildStreamUrl(t,n)})]})),Object(i.jsxs)("div",{onClick:function(){return r()},children:[n,a]})}function Kt(e){var t=e.file,n=e.onClick;return Object(i.jsxs)("div",{onClick:function(){return n(t.link)},children:[Object(i.jsx)("div",{style:{textAlign:"left",color:"grey"},children:function(e){var t=new Date,n=new Date;n.setDate(n.getDate()-1);var i=new Date(e),c="";if(n.toDateString()===i.toDateString())c="Yesterday";else if(t.toDateString()===i.toDateString())c="Today";else{c=i.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})}return c+", "+i.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit",hour12:!1})}(t.lastOpenedDateTime)}),Object(i.jsx)("div",{style:{textAlign:"left"},children:t.link})]})}var Jt=function(e){var t=e.components,n=e.activeComponentId,r=Object(c.useState)({}),o=Object(s.a)(r,2),a=o[0],l=o[1];return Object(c.useEffect)((function(){var e=t.find((function(e){return e.id===n}));e&&l(e)}),[t,n]),Object(i.jsx)("div",{style:null===a||void 0===a?void 0:a.containerStyle,children:null===a||void 0===a?void 0:a.render})};var Yt=function(){H.init();var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(!1),a=Object(s.a)(o,2),l=a[0],u=a[1],d=Object(c.useState)(null),b=Object(s.a)(d,2),j=b[0],f=b[1],v=Object(c.useState)(!1),h=Object(s.a)(v,2),O=h[0],m=h[1],g=Object(c.useState)(!1),p=Object(s.a)(g,2),x=p[0],C=p[1],y=Object(c.useState)(!1),S=Object(s.a)(y,2),N=S[0],M=S[1],E=Object(c.useState)(!1),T=Object(s.a)(E,2),w=T[0],U=T[1],P=Object(c.useState)(!0),R=Object(s.a)(P,2),L=R[0],I=R[1],F=Object(c.useState)(!1),V=Object(s.a)(F,2),B=V[0],q=V[1],z=Object(c.useState)(!1),D=Object(s.a)(z,2),W=D[0],G=D[1],K=Object(c.useState)(""),J=Object(s.a)(K,2),Y=J[0],X=J[1],Z=function(e){de(oe),ae(e)},ee=function(e){X(e),Z(ne.mediaPresentationPage)},te=function(){u(!0),m(!0),M(!0),U(!0),C(!0),Z(ue)},ne={homePage:"homePage",mediasListGenrePage:"mediasOfGenre",mediasListPlatformPage:"mediasOfPlatform",mediaPresentationPage:"mediaPresentationPage",watchedMediasListPage:"watchedMediasListPage",bookmarkedMediasListPage:"bookmarkedMediasListPage",researchPage:"researchPage",torrentLinkPage:"torrentLinkPage"},ie={components:[{id:ne.homePage,render:Object(i.jsx)(Tt,{onReady:function(){I(!1)},onFail:function(){q(!0)},onMediaClick:function(e){return ee(e)}})},{id:ne.mediasListGenrePage,render:Object(i.jsx)(_,{genre:n,loadFromCache:l,onMediaClick:function(e){return ee(e)}}),containerStyle:{height:"100%"}},{id:ne.mediasListPlatformPage,render:Object(i.jsx)($,{platform:j,loadFromCache:O,onMediaClick:function(e){return ee(e)}}),containerStyle:{height:"100%"}},{id:ne.mediaPresentationPage,containerStyle:{height:"100%"},render:Object(i.jsx)(xt,{mediaId:Y,onCloseClick:function(){return te()}})},{id:ne.watchedMediasListPage,render:Object(i.jsx)(Rt,{centerToLastClickedMedia:w,onMediaClick:function(e){return ee(e)}})},{id:ne.bookmarkedMediasListPage,render:Object(i.jsx)(It,{centerToLastClickedMedia:N,onMediaClick:function(e){return ee(e)}})},{id:ne.researchPage,render:Object(i.jsx)(qt,{loadFromCache:x,onMediaClick:function(e){return ee(e)}})},{id:ne.torrentLinkPage,render:Object(i.jsx)(Dt,{})}]},ce=Object(c.useState)(ne.homePage),re=Object(s.a)(ce,2),oe=re[0],ae=re[1],se=Object(c.useState)(ne.homePage),le=Object(s.a)(se,2),ue=le[0],de=le[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(A,{visible:L,showErrorMessage:B}),Object(i.jsx)(Q,{visible:W,onGenreClick:function(e){G(!1),function(e){r(e),u(!1),Z(ne.mediasListGenrePage)}(e)},onPlatformClick:function(e){G(!1),function(e){f(e),m(!1),Z(ne.mediasListPlatformPage)}(e)},onCloseClick:function(){return G(!1)}}),Object(i.jsx)(k,{onSearchClick:function(){C(!1),ae(ne.researchPage)},onHomeClick:function(){return ae(ne.homePage)},onGenreMenuClick:function(){return G(!0)},onWatchedMediasClick:function(){U(!1),ae(ne.watchedMediasListPage)},onBookmarkedMediasClick:function(){M(!1),ae(ne.bookmarkedMediasListPage)},onTorrentLinkClick:function(){ae(ne.torrentLinkPage)},onAppModeSwitch:function(){ae(ne.homePage)}}),Object(i.jsx)("div",{className:"app-content",children:Object(i.jsx)(Jt,{components:ie.components,activeComponentId:oe})})]})},Xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),r(e),o(e)}))};a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(Yt,{})}),document.getElementById("root")),Xt()},39:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.210158ce.chunk.js.map